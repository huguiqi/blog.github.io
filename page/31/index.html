
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
  <meta name="keywords" content="胡小黑,架构师,资深软件工程师,object-c,swift,java,node,小黑,技术,大牛,阿里巴巴,腾讯,旅游">
  
  
    <title>小黑的技术博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="sam">
    
    <meta name="baidu-site-verification" content="zBj0BDqjSV" />
    
    <meta name="description" content="胡小黑 大型网络架构">
<meta name="keywords" content="胡小黑,架构师,资深软件工程师,object-c,swift,java,node,小黑,技术,大牛,阿里巴巴,腾讯,旅游">
<meta property="og:type" content="website">
<meta property="og:title" content="小黑的技术博客">
<meta property="og:url" content="http://www.huguiqi.com/page/31/index.html">
<meta property="og:site_name" content="小黑的技术博客">
<meta property="og:description" content="胡小黑 大型网络架构">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小黑的技术博客">
<meta name="twitter:description" content="胡小黑 大型网络架构">
<meta name="twitter:creator" content="@XiaoheiSpring">
<link rel="publisher" href="109318125124422212783">

    
    <link rel="alternative" href="/atom.xml" title="小黑的技术博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">

</head>

  <body>
    <header>
      
<div>
<p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></p>

		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="小黑的技术博客" title="小黑的技术博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="小黑的技术博客">小黑的技术博客</a></h1>
				<h2 class="blog-motto">不积跬步无以至千里</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li><a href="http://blog.huguiqi.com.">副站</a></li>
					<li>
 					
						<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" autocomplete="on" class="st-default-search-input"  name="q" maxlength="30" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/25/nginx配置静态资源404问题/" title="nginx配置静态资源404问题" itemprop="url">nginx配置静态资源404问题</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2018-04-25T01:00:00.000Z" itemprop="datePublished"> 发表于 2018-04-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Nginx-配置静态文件404问题"><a href="#Nginx-配置静态文件404问题" class="headerlink" title="Nginx 配置静态文件404问题"></a>Nginx 配置静态文件404问题</h1><p>使用Nginx做图片服务器时候，配置之后图片访问一直是  404.<br>我的配置是</p>
<pre><code>location /api/v1/upload {  
     root /opt/edu/upload;  
}  
</code></pre><p>文件放在<br>/opt/edu/upload  目录下。</p>
<p>访问</p>
<p><a href="http://localhost/api/v1/upload/api/v1/upload/course/logo/44242acc58f2465c8daf53a2a8b1ec70_add.png" target="_blank" rel="noopener">http://localhost/api/v1/upload/api/v1/upload/course/logo/44242acc58f2465c8daf53a2a8b1ec70_add.png</a></p>
<p>一直是404<br>日志也是接收到了。但是就是404</p>
<pre><code>10.20.5.247 - - [09/May/2017:13:35:57 +0800] &quot;GET /api/v1/upload/course/logo/44242acc58f2465c8daf53a2a8b1ec70_add.png HTTP/1.1&quot; 404 571 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36&quot; &quot;-&quot;  
</code></pre><p>查了防火墙，查了网络连接，查了路径，查了配置文件感觉都没有错。</p>
<p>最后发现配置的问题。</p>
<p>nginx的配置文件被运维的某位同学配置成：</p>
<pre><code>location /i/ {
    alias /data/w3/images/;
}
</code></pre><p>根据多年的实战经验，总感觉这个alias有问题（好吧，其实就是没见过alias的写法，之前都用的root）</p>
<p>最后问候了一遍谷姐。</p>
<p>其实配置静态路径是有两种方式。</p>
<p>之前静态的都是直接在URL里写根目录，<br>所以一直没发现。今天写了一个有前缀的URL，就出现了。</p>
<p>RootCause:</p>
<p>root 配置的意思是，会在root配置的目录后跟上URL，组成对应的文件路径。<br>即我的访问<br><a href="http://localhost/api/v1/upload/api/v1/upload/course/logo/44242acc58f2465c8daf53a2a8b1ec70_add.png" target="_blank" rel="noopener">http://localhost/api/v1/upload/api/v1/upload/course/logo/44242acc58f2465c8daf53a2a8b1ec70_add.png</a><br>最终去寻找的文件路径是<br>/opt/edu/upload/api/v1/upload/course/logo/44242acc58f2465c8daf53a2a8b1ec70_add.png<br>而我想要的是<br>/opt/edu/upload/course/logo/44242acc58f2465c8daf53a2a8b1ec70_add.png</p>
<p>而Nginx提供了另外一个静态路径配置  ： alias</p>
<p>alias与root区别：</p>
<h2 id="官方root"><a href="#官方root" class="headerlink" title="官方root"></a>官方root</h2><pre><code>Sets the root directory for requests. For example, with the following configuration
location /i/ {
    root /data/w3;
}
The /data/w3/i/top.gif file will be sent in response to the “/i/top.gif” request
</code></pre><h2 id="官方alias"><a href="#官方alias" class="headerlink" title="官方alias"></a>官方alias</h2><pre><code>Defines a replacement for the specified location. For example, with the following configuration
location /i/ {
    alias /data/w3/images/;
}
on request of “/i/top.gif”, the file /data/w3/images/top.gif will be sent.
</code></pre><p>当访问/i/top.gif时，root是去/data/w3/i/top.gif请求文件，alias是去/data/w3/images/top.gif请求,也就是说<br>root响应的路径：配置的路径+完整访问路径(完整的location配置路径+静态文件)<br>alias响应的路径：配置路径+静态文件(去除location中配置的路径)</p>
<p>最终解决访问：<br>修改配置为</p>
<pre><code>location /api/v1/upload {  
     alias /opt/edu/upload/;  
}  
</code></pre><p>注意<br>使用alias时目录名后面一定要加“/”<br>一般情况下，在location /中配置root，在location /other中配置alias</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/系统-运维/">系统&运维</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/nginx/">nginx</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2018/04/25/nginx配置静态资源404问题/#comments" class="ds-thread-count comments-count-link" data-thread-key="2018/04/25/nginx配置静态资源404问题/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/19/hexo很久没用，报错问题解决/" title="hexo很久没用，报错问题解决" itemprop="url">hexo很久没用，报错问题解决</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2018-04-18T17:51:00.000Z" itemprop="datePublished"> 发表于 2018-04-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <hr>
<h1 id="hexo很久没用，报错问题解决"><a href="#hexo很久没用，报错问题解决" class="headerlink" title="hexo很久没用，报错问题解决"></a>hexo很久没用，报错问题解决</h1><p><img src="http://blog.huguiqi.com/1524074524585sudsgrz9.png?imageslim" alt="paste image"></p>
<p>其实这个错是不会影响hexo的使用的，但作为一名精细的技术狗，对这个报错非常不爽，决定解决它。。。。</p>
<p>参考出处：<a href="https://github.com/hexojs/hexo/issues/1922" target="_blank" rel="noopener">https://github.com/hexojs/hexo/issues/1922</a></p>
<p>执行：</p>
<pre><code>$ sudo npm uninstall hexo-cli -g
$ sudo npm uninstall dtrace-provider -g
$ sudo npm install hexo-cli -g --no-optional
</code></pre><p>完美解决。。。。</p>
<p>再次执行: </p>
<pre><code>hexo server -d
</code></pre><p><img src="http://blog.huguiqi.com/15240747200885cztgtk3.png?imageslim" alt="paste image">    </p>
<p>完美。。。。。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/hexo/">hexo</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/hexo/">hexo</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2018/04/19/hexo很久没用，报错问题解决/#comments" class="ds-thread-count comments-count-link" data-thread-key="2018/04/19/hexo很久没用，报错问题解决/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/19/XX-net翻墙神器/" title="介绍一款科学上网神器" itemprop="url">介绍一款科学上网神器</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2018-04-18T17:05:00.000Z" itemprop="datePublished"> 发表于 2018-04-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <hr>
<p>xx-net，目前已经更新到3.11.9了。<br>作为一名技术狗，基本上不限流量，快乐科学安全上网。。。。</p>
<p>github地址：<a href="https://github.com/XX-net/XX-Net" title="xx-net科学上网" target="_blank" rel="noopener">https://github.com/XX-net/XX-Net</a></p>
<p>配置好gae后，将appid的通过访问：<a href="https://%E4%BD%A0%E7%9A%84appid.appspot.com/" target="_blank" rel="noopener">https://appid.appspot.com/</a></p>
<p>显示：</p>
<pre><code>GoAgent 服务端已经在 2018-04-19 00:17:27 升级到 3.3.1 版本, 请更新您的客户端。
</code></pre><p>具体用法github上介绍非常详细。。。。。。。。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/科学上网/">科学上网</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/科学上网/">科学上网</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2018/04/19/XX-net翻墙神器/#comments" class="ds-thread-count comments-count-link" data-thread-key="2018/04/19/XX-net翻墙神器/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/06/7天学会使用springcloud/" title="7天学会使用springcloud(一)" itemprop="url">7天学会使用springcloud(一)</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2018-04-06T09:27:00.000Z" itemprop="datePublished"> 发表于 2018-04-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <hr>
<h1 id="7天学会使用springcloud（一）"><a href="#7天学会使用springcloud（一）" class="headerlink" title="7天学会使用springcloud（一）"></a>7天学会使用springcloud（一）</h1><h2 id="什么是spring-cloud"><a href="#什么是spring-cloud" class="headerlink" title="什么是spring cloud?"></a>什么是spring cloud?</h2><p>官方解释：</p>
<blockquote>
<blockquote>
<p> Spring Cloud</p>
</blockquote>
<p>Spring Cloud provides tools for developers to quickly build some of the common patterns in distributed systems (e.g. configuration management, service discovery, circuit breakers, intelligent routing, micro-proxy, control bus, one-time tokens, global locks, leadership election, distributed sessions, cluster state). Coordination of distributed systems leads to boiler plate patterns, and using Spring Cloud developers can quickly stand up services and applications that implement those patterns. They will work well in any distributed environment, including the developer’s own laptop, bare metal data centres, and managed platforms such as Cloud Foundry.</p>
</blockquote>
<p>意思是spring Cloud  是为快速开发生产系统提供的一系列公用组件或者工具。实现快速启动应用服务，让开发到生产更简单。</p>
<p>嗯，官方点进去还有一段：</p>
<blockquote>
<p>Spring Cloud builds on Spring Boot by providing a bunch of libraries that enhance the behaviour of an application when added to the classpath. You can take advantage of the basic default behaviour to get started really quickly, and then when you need to, you can configure or extend to create a custom solution.</p>
</blockquote>
<p>spring cloud是作为组件库的形式运行在spring boot上的。你可以下载官方基础版本来快速在其基础上开发或者你额外创建一个自定义项目。</p>
<h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><ol>
<li>从官方网站下载带有springcloud基本组件的eureka Server(等下再介绍它的作用)</li>
</ol>
<p><img src="http://blog.huguiqi.com/1523008669657fh46tqfu.png?imageslim" alt="paste image"></p>
<ol>
<li>直接用idea新建springboot项目，添加上eureka Server组件</li>
</ol>
<p><img src="http://blog.huguiqi.com/152300877569093stlsyw.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/1523008812084dn7tifyo.png?imageslim" alt="paste image"></p>
<p>以下睁大眼看看，eureka server组件是cloud config里的</p>
<p><img src="http://blog.huguiqi.com/1523008886524lwpx5d9m.png?imageslim" alt="paste image"></p>
<h2 id="什么是eureka"><a href="#什么是eureka" class="headerlink" title="什么是eureka"></a>什么是eureka</h2><p>先来介绍一下netflix</p>
<blockquote>
<p>Spring Cloud Netflix<br>Spring Cloud Netflix provides Netflix OSS integrations for Spring Boot apps through autoconfiguration and binding to the Spring Environment and other Spring programming model idioms. With a few simple annotations you can quickly enable and configure the common patterns inside your application and build large distributed systems with battle-tested Netflix components. The patterns provided include Service Discovery (Eureka), Circuit Breaker (Hystrix), Intelligent Routing (Zuul) and Client Side Load Balancing (Ribbon)..</p>
</blockquote>
<p>netflix 通过用一些简单的注解快速启动和配置组件自动配置和绑定环境变量为spring boot 应用提供OSS 集成。</p>
<p>eureka它是Spring Cloud Netflix的Eureka ,eureka是一个服务注册和发现模块。</p>
<p>官网的介绍：</p>
<blockquote>
<p>Eureka is a REST (Representational State Transfer) based service that is primarily used in the AWS cloud for locating services for the purpose of load balancing and failover of middle-tier servers. We call this service, the Eureka Server. Eureka also comes with a Java-based client component,the Eureka Client, which makes interactions with the service much easier. The client also has a built-in load balancer that does basic round-robin load balancing. At Netflix, a much more sophisticated load balancer wraps Eureka to provide weighted load balancing based on several factors like traffic, resource usage, error conditions etc to provide superior resiliency.</p>
</blockquote>
<p>eureka是一种 REST (代表状态转移) 的服务, 主要用于 AWS（即自动报警系统） 云中, 用于定位服务, 以便于中间层服务器的负载均衡和故障切换。我们称之为服务, eureka服务器。eureka还附带了一个基于 Java 的客户端组件, eureka client, 这使得与服务的交互变得容易得多。客户端还具有内置的负载均衡器, 可进行基本的循环负载均衡。在 Netflix, 一个更复杂的负载均衡器包装eureka提供权重负载均衡的基础上的几个因素, 如流量, 资源使用, 错误条件等, 以提供优越的弹性。</p>
<h2 id="eureka-干嘛用的"><a href="#eureka-干嘛用的" class="headerlink" title="eureka 干嘛用的"></a>eureka 干嘛用的</h2><p>官方：</p>
<blockquote>
<p>In AWS cloud, because of its inherent nature, servers come and go. Unlike the traditional load balancers which work with servers with well known IP addresses and host names, in AWS, load balancing requires much more sophistication in registering and de-registering servers with load balancer on the fly. Since AWS does not yet provide a middle tier load balancer, Eureka fills a big gap in the area of mid-tier load balancing.</p>
</blockquote>
<p>由于AWS云它固有的特性, 服务器来了又走。<br>与使用已知 IP 地址和主机名的服务器的传统负载均衡器不同, 在 AWS 中, 负载均衡在使用负载平衡器进行注册和取消注册服务器时更加复杂。由于 AWS 还没有提供中间层负载平衡器, eureka填补了中端（应用层）负载平衡领域的巨大缺口。</p>
<p>也就是说用eureka可以实现负载均衡快速切换，而且可以不需要知道ip地址。</p>
<h2 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h2><p>eureka分client和server端</p>
<p><img src="http://blog.huguiqi.com/1523074238953hsymscux.png?imageslim" alt="paste image"></p>
<p>client端又分为service和client</p>
<p>从图可以看出在这个体系中，有2个角色，即Eureka Server和Eureka Client。而Eureka Client又分为Applicaton Service和Application Client，即服务提供者和服务消费者。 每个区域有一个Eureka集群，并且每个区域至少有一个eureka服务器可以处理区域故障，以防服务器瘫痪。</p>
<p>Eureka Client向Eureka Server注册，并将自己的一些客户端信息发送Eureka Server。然后，Eureka Client通过向Eureka Server发送心跳（每30秒）来续约服务的。 如果客户端持续不能续约，那么，它将在大约90秒内从服务器注册表中删除。 注册信息和续订被复制到集群中的Eureka Server所有节点。 来自任何区域的Eureka Client都可以查找注册表信息（每30秒发生一次）。根据这些注册表信息，Application Client可以远程调用Applicaton Service来消费服务。</p>
<p>springboot集成eureka.</p>
<p>在springboot的application启动里上添加一个启动eureka注解：</p>
<p><img src="http://blog.huguiqi.com/1523073798777qh7i8cb1.png?imageslim" alt="paste image"></p>
<p>如果是从官网下载的springboot初始项目运行，可能会报错：</p>
<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.peerEurekaNodes
at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:64) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:109) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:179) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:141) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:328) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:233) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:93) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:693) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) [spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) [spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) [spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at com.example.cloud.EurekaServerApplication.main(EurekaServerApplication.java:12) [classes/:na]
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]
at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:659) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:556) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:541) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:599) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:728) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:669) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:637) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1489) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1007) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]
at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:168) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanType(BeanTypeRegistry.java:157) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:207) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:114) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:266) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:255) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:197) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:116) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.0.0.RELEASE.jar:2.0.0.RELEASE]
... 16 common frames omitted
Caused by: java.lang.NoClassDefFoundError: javax/ws/rs/core/Application
at java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_74]
at java.lang.Class.privateGetDeclaredMethods(Class.java:2701) ~[na:1.8.0_74]
at java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_74]
at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:641) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]
... 33 common frames omitted
Caused by: java.lang.ClassNotFoundException: javax.ws.rs.core.Application
at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_74]
at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_74]
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331) ~[na:1.8.0_74]
at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_74]
... 37 common frames omitted
</code></pre><p>我们找到报错原因：</p>
<pre><code>Caused by: java.lang.NoClassDefFoundError: javax/ws/rs/core/Application
</code></pre><p>就是说Application类没找到，这是javax的ws.rs包默认是没有的，一般如果我们直接通过application启动，则会报这个错，但是如果用tomcat容器呢？这个还没试，后面有时间试下。</p>
<p>我把这个包加到pom.xml:</p>
<pre><code>&lt;dependency&gt;
&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;
&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;
&lt;version&gt;2.0.1&lt;/version&gt;
&lt;scope&gt;jar&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre><p>再运行，成功。</p>
<p>访问：<a href="http://localhost:8888" target="_blank" rel="noopener">http://localhost:8888</a></p>
<p><img src="http://blog.huguiqi.com/1523075571296i1lje386.png?imageslim" alt="paste image"></p>
<p>看看我的配置文件：</p>
<p>application.yml:</p>
<pre><code>server:
  port: 8888


logging:
  level:
    com.netflix.discovery: &apos;OFF&apos;
    org.springframework.cloud: &apos;DEBUG&apos;

eureka:
  instance:
    leaseRenewalIntervalInSeconds: 10
    statusPageUrlPath: /admin/info
    healthCheckUrlPath: /admin/health

eureka:
  instance:
    hostname: localhost
    nonSecurePort: 80
  client:
    serviceUrl:
      defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/
    registerWithEureka: false
    fetchRegistry: false
</code></pre><p>registerWithEureka: 值为false意味着自身仅作为服务器，不作为客户端</p>
<p>fetchRegistry: 值为false意味着无需注册自身</p>
<p>serviceUrl.defaultZone: 指明了应用的URL</p>
<p>关于配置，<a href="https://github.com/Netflix/eureka/wiki/Configuring-Eureka" target="_blank" rel="noopener">参考官方文档</a></p>
<h2 id="建立app-client"><a href="#建立app-client" class="headerlink" title="建立app-client"></a>建立app-client</h2><p>client其实是调用服务提供者来消费的一个client,我们来建立一个app-client</p>
<p>pom.xml:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;eureka-client1&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;name&gt;eureka-client1&lt;/name&gt;
    &lt;description&gt;Demo project for Spring Boot(spring cloud)&lt;/description&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;
        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;

    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
        &lt;spring-cloud.version&gt;Finchley.M9&lt;/spring-cloud.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--&lt;dependency&gt;--&gt;
            &lt;!--&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;
            &lt;!--&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;
            &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;
        &lt;!--&lt;/dependency&gt;--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;

    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

    &lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;spring-milestones&lt;/id&gt;
            &lt;name&gt;Spring Milestones&lt;/name&gt;
            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;
            &lt;snapshots&gt;
                &lt;enabled&gt;false&lt;/enabled&gt;
            &lt;/snapshots&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;


&lt;/project&gt;
</code></pre><p>入口类EurekaClientApplication：</p>
<pre><code>package com.example.cloud;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;
import org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration;
import org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;
import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

@RestController
@SpringBootApplication
public class EurekaClientApplication {

    public static void main(String[] args) {
        SpringApplication.run(EurekaClientApplication.class, args);
    }


    @Value(&quot;${server.port}&quot;)
    String port;
    @RequestMapping(&quot;/hi&quot;)
    public String home(@RequestParam String name) {
            return
                &quot;hi &quot;+name+&quot;,i am from port:&quot; +port;
    }

}
</code></pre><p>配置文件：</p>
<pre><code>spring:
  application:
    name: client-service
  cloud:
    config:
      uri: http://localhost:8761/
      label: master
      profile: dev
  security:
    user:
      name: sam
      password: 123456


eureka:
  instance:
    hostname: localhost
    prefer-ip-address: true
    instance-id: ${eureka.instance.hostname}:${server.port}
    nonSecurePort: 80
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka


logging:
  level:
    org:
      springframework:
        security: DEBUG
server:
  port: 8882

spring.cloud.vault:
    config.lifecycle.enabled: true
    fail-fast: true
</code></pre><p>写一个restController测试接口，启动后刷新eurake页面，发现已经注册进去了：</p>
<p><img src="http://blog.huguiqi.com/1525008085202ufhuf38m.png?imageslim" alt="paste image"></p>
<p>那我们访问那个接口试下client是否正常运行：</p>
<pre><code>http://localhost:8882/hi?name=test
</code></pre><p>发现访问正常。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/springboot/">springboot</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/spring-cloud/">spring cloud</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2018/04/06/7天学会使用springcloud/#comments" class="ds-thread-count comments-count-link" data-thread-key="2018/04/06/7天学会使用springcloud/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/04/02/回到那个熟悉的工作环境吧/" title="回到那个熟悉的工作环境吧" itemprop="url">回到那个熟悉的工作环境吧</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2018-04-02T09:27:00.000Z" itemprop="datePublished"> 发表于 2018-04-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <hr>
<p>和原领导联系了很久，原领导希望我回去帮他解决一些问题，考虑了一段时间，欣然答应了。。。。。</p>
<p>回去的目标：</p>
<ol>
<li>将服务端技术提升上一个台阶</li>
<li>帮助老朋友解决掉目前的困难</li>
<li>让漂泊的心暂时稳定下来</li>
<li>考驾照</li>
<li>往架构师方向发展</li>
</ol>
<p>很感谢原来的老朋友如此信任我，我必将不负所托，出色完成任务。<br>回到锦江，心情还是挻愉悦的。。。。。。。</p>
<p>记录一下，今天是我重新入职的第一天，happy day。。。。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/随笔/">随笔</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/随笔/">随笔</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2018/04/02/回到那个熟悉的工作环境吧/#comments" class="ds-thread-count comments-count-link" data-thread-key="2018/04/02/回到那个熟悉的工作环境吧/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/11/26/致我逝去的青春/" title="致我逝去的青春" itemprop="url">致我逝去的青春</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-11-26T02:55:00.000Z" itemprop="datePublished"> 发表于 2017-11-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>我也不知道想写些什么，但就是写记录一下。<br>2018年4月20号，将是我30岁的生日，今年十一，莫名奇妙的结婚了，说下我心态的改变。</p>
<ol>
<li>发现心态已经老了</li>
<li>思维能力跟不上90后的步伐了</li>
<li>对未来经常会恐惧焦虑了</li>
<li>有房贷压力，对技术的追求已经不那么疯狂了</li>
</ol>
<p>这可能就是步入中年的现实状态吧。<br>我曾经不断的追赶过前辈的步伐，叫嚣着要做大牛，为人师。<br>我希望不断的突破自己。<br>我希望我的人脉圈子越来越大，牛人也越来越多。<br>但是，我错了，我好像最近几年都一直困在了一个小圈子里，无法自拔，一直都是那么些人，那么些事。</p>
<p>今天看到大熊老师的格局逆袭，让我觉得受益匪浅，只能说，现在的我能力上还不够优秀，现在的心态真的有点像大熊说的：心比天高，命比纸薄。</p>
<p>为什么我遇不到比自己牛逼的人，让自己服气的人，不是因为我运气不好，也不是因为我真的是我想像的那么牛逼，所以正确答案是：我还不够牛逼。</p>
<p>想加入牛人的圈子，就必须让自己成为牛人。<br>成为牛人的方法，我知道的很多，但是没有一条能让我坚持下来的。<br>比如说健身吧，有了强健的体魄，才有精力做我想做的事情，才有精力与比我年轻，比我聪明，比我起点高的人竞争，打持久战争，他们都倒下了，我还很有精神，这就是健身的好处。<br>健身有很多好处，这只是其中一个方向，但健身我却没有坚持下来，说好的每天早上早起健身，非但没健身，而且每个月都上班迟到，这是对自己最残忍的放纵，这是我必须要检讨和需要改正的。</p>
<p>那好，为了克服中年人综合症，我必须从自身出发，坚决改正这些问题：</p>
<ol>
<li>不遵守时间</li>
<li>不遵守自己的承诺</li>
<li>做事喜欢拖拉</li>
<li>没有计划性</li>
</ol>
<p>我目前属于迷茫期，就是不知道自己接下来的路该怎么走，那受大熊老师的影响，那就<strong>做好当下的事吧</strong></p>
<p>把眼前的事做好，就是积累，当积累到一定的量的时候，你自己就会感觉到成功了。是不是牛人，就不是你自己说的算了。</p>
<p>小学课本上有个故事，说的是古时候有个人，饿了，在饼店里吃饼，当吃到第7个的时候，他吃饱了，这时他想，早知道吃第七个的时候就会饱，那我直接跳过前面六个就行了，干嘛白白浪费了六个饼呢?</p>
<p>我觉得现在有很多像我一样浮躁的人，想直接通过吃第七个饼顶饿的人。<br>但事实证明，没有前面的六个积累，是不可能达到成功止饿的，一个人的成功也是一样，如果没有平时的积累，是不可能达到牛人的境界的。</p>
<p>作为一个立志成为很多人眼里的牛人，就必须严格要求自己，比别人多付出，因为你的起点就比别人低，而且你没有别人出身好，没有别人长得好看，没有别人聪明，还没有别人会说话，没有别人有人脉资源，关键是人家很比你更努力，你凭什么不严格要求自己，凭什么不加倍努力。</p>
<p>从明天起，做一个健康的人。<br>从明天起，做一个守时的人。<br>从明天起，做一个守信的人。<br>从明天起，做一个技术牛人。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/随笔/">随笔</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/感想/">感想</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/11/26/致我逝去的青春/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/11/26/致我逝去的青春/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/11/13/springboot-activiti/" title="springboot-activiti" itemprop="url">springboot-activiti</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-11-12T17:34:00.000Z" itemprop="datePublished"> 发表于 2017-11-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="springboot-activiti"><a href="#springboot-activiti" class="headerlink" title="springboot-activiti"></a>springboot-activiti</h1><p>   spring boot + web +  mybatis + H2</p>
<p>工作流Activiti，在这里不作介绍了。<br>可以参考这几篇文章：</p>
<p><a href="http://www.cnblogs.com/gcjava/archive/2017/04/19/6734793.html" target="_blank" rel="noopener">http://www.cnblogs.com/gcjava/archive/2017/04/19/6734793.html</a></p>
<p><a href="http://blog.csdn.net/xnf1991/article/details/52610277" target="_blank" rel="noopener">http://blog.csdn.net/xnf1991/article/details/52610277</a></p>
<p><a href="http://bubuko.com/infodetail-1465670.html" target="_blank" rel="noopener">springboot集成</a></p>
<p>根据官方教程，先写一个demo</p>
<p><a href="https://www.activiti.org/quick-start" target="_blank" rel="noopener">官方教程quick start</a></p>
<p>什么？文档写的太烂，很多英文写的不详细？那就看看5.x的中文手册</p>
<p><a href="http://www.mossle.com/docs/activiti/index.html#demo.setup.one.minute.version" target="_blank" rel="noopener">Activiti5.6中文手册</a></p>
<p><a href="http://www.mossle.com/docs/activiti/index.html#configuration" target="_blank" rel="noopener">Activiti请假例子</a></p>
<p>我配置了一个mysql5.7.20，跑一个actiti引擎会初始化28张表。</p>
<p>分别是：</p>
<pre><code>act_evt_log, 
act_ge_bytearray, 
act_ge_property, 
act_hi_actinst, 
act_hi_attachment, 
act_hi_comment, 
act_hi_detail, 
act_hi_identitylink, 
act_hi_procinst, 
act_hi_taskinst, 
act_hi_varinst, 
act_id_group, 
act_id_info,
act_id_membership, 
act_id_user, 
act_procdef_info, 
act_re_deployment, 
act_re_model, 
act_re_procdef, 
act_ru_deadletter_job, 
act_ru_event_subscr, 
act_ru_execution, 
act_ru_identitylink, 
act_ru_job, 
act_ru_suspended_job, 
act_ru_task, 
act_ru_timer_job, 
act_ru_variable
</code></pre><p>这么多表，看着一脸懵逼。</p>
        
        
        <p class="article-more-link">
          
            <a href="/2017/11/13/springboot-activiti/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/activiti/">activiti</a>►<a class="article-category-link" href="/categories/activiti/springboot/">springboot</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/springboot-activiti/">springboot-activiti</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/11/13/springboot-activiti/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/11/13/springboot-activiti/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/09/24/springboot集成redis/" title="springboot如何使用redis" itemprop="url">springboot如何使用redis</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-09-24T09:50:59.000Z" itemprop="datePublished"> 发表于 2017-09-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="spring-boot-redis"><a href="#spring-boot-redis" class="headerlink" title="spring-boot-redis"></a>spring-boot-redis</h1><p>springboot  + mybaties + h2 双数据源配置，支持分布式事务处理</p>
<h2 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h2><p>Mac 下安装：</p>
<ol>
<li>官网<a href="http://redis.io/" target="_blank" rel="noopener">http://redis.io/</a> 下载最新的稳定版本,这里是3.2.0</li>
<li>sudu mv 到 /usr/local/</li>
<li>sudo tar -zxf redis-3.2.0.tar 解压文件</li>
<li>进入解压后的目录 cd redis-3.2.0</li>
<li>sudo make test 测试编译</li>
<li>sudo make install </li>
</ol>
<p>启动：<br>mac:</p>
<p>redis-server</p>
<p>windows:</p>
<p>  ./redis-server.exe redis.windows.conf</p>
<p>客户端连接：</p>
<p>redis-cli -h 127.0.0.1 -p 6379</p>
<p>进入连接：</p>
<p>设置和获取cache:</p>
<p>set myKey abc<br>get myKey</p>
<h2 id="redis-发布订阅"><a href="#redis-发布订阅" class="headerlink" title="redis 发布订阅"></a>redis 发布订阅</h2><p><a href="">link</a>(<a href="http://www.jianshu.com/p/a2ab17707eff" target="_blank" rel="noopener">http://www.jianshu.com/p/a2ab17707eff</a>)</p>
<h3 id="annotation-based-caching"><a href="#annotation-based-caching" class="headerlink" title="annotation-based caching"></a>annotation-based caching</h3><p>因为springboot集成了标准的cache接口,对redis也是内置支持的，所以用redis只要按照spring的标准做就可以了。</p>
<p><a href="">spring关于annotation cache的注解介绍</a>(<a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html" target="_blank" rel="noopener">https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html</a>)</p>
<p><a href="">annotation Cache注解中SpEL语法介绍</a>(<a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html" target="_blank" rel="noopener">https://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html</a>)</p>
<p><a href="">我的springboot集成项目地址</a>(<a href="https://github.com/huguiqi/springboot-redis.git" target="_blank" rel="noopener">https://github.com/huguiqi/springboot-redis.git</a>)</p>
<h2 id="cacheManger"><a href="#cacheManger" class="headerlink" title="cacheManger"></a>cacheManger</h2><p>根据文档描述：</p>
<blockquote>
<p>The bean name of the CacheResolver that is to be used to resolve the backing caches. This attribute is not required, and only needs to be specified as an alternative to the ‘cache-manager’ attribute.</p>
</blockquote>
<p>畎认值解析类是：SimpleCacheResolver；<br>使用的是cacheManager对象来管理cache。<br>意思是有个叫CacheResolver的接口来解析后台cache的配置。其中有个属性是cache-manager。</p>
<p>而cacheManager，另据文档描述：</p>
<blockquote>
<p> Name of cache manager to use. A default CacheResolver will be initialized behind the scenes with this cache manager (or <code>cacheManager</code>if not set). For more fine-grained management of the cache resolution, consider setting the ‘cache-resolver’ attribute.</p>
</blockquote>
        
        
        <p class="article-more-link">
          
            <a href="/2017/09/24/springboot集成redis/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/springboot/">springboot</a><a href="/tags/redis/">redis</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/09/24/springboot集成redis/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/09/24/springboot集成redis/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/09/07/当新团队公司和领导价值观与你不同时该怎么办/" title="当新团队公司和领导价值观与你不同时该怎么办？" itemprop="url">当新团队公司和领导价值观与你不同时该怎么办？</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-09-07T14:21:59.000Z" itemprop="datePublished"> 发表于 2017-09-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>刚进入一家新公司后发现，公司文化和团队成员，领导都很low，怎么办？反正我的决定是尽快离开他们。。。。。</p>
<p><img src="http://blog.huguiqi.com/150479427135078f1itqn.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/1504794302964j2ii2qsb.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/1504794316944rrq3fpeh.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/1504794333956no0afl3o.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/15047943477853iid1h23.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/15047943617432ukmtaw4.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/1504794372667t1c6v6ap.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/1504794381623m2mcqwc0.png?imageslim" alt="paste image"></p>
        
        
        <p class="article-more-link">
          
            <a href="/2017/09/07/当新团队公司和领导价值观与你不同时该怎么办/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/09/07/当新团队公司和领导价值观与你不同时该怎么办/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/09/07/当新团队公司和领导价值观与你不同时该怎么办/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/29/一天上手springboot/" title="一天上手springboot" itemprop="url">一天上手springboot</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-07-29T13:20:00.000Z" itemprop="datePublished"> 发表于 2017-07-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="一天上手springboot"><a href="#一天上手springboot" class="headerlink" title="一天上手springboot"></a>一天上手springboot</h1><p>6月份在找java后端的工作，老是有很多公司问我，springboot有用过吗？我说没有，基本上就没戏了。</p>
<p>什么玩意？很难吗？不就是一个框架吗？会不会有什么关系吗？</p>
<p>好吧，既然它这么火，我就来学习一下。。。。。</p>
<h2 id="springboot是什么"><a href="#springboot是什么" class="headerlink" title="springboot是什么?"></a>springboot是什么?</h2><p>首先我们在spring.io官网上找到关于springboot的单个文档。<br><a href="http://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/htmlsingle" target="_blank" rel="noopener">springboot文档</a><br>里面有说，springboot在github上的地址是：<br><a href="https://github.com/spring-projects/spring-boot" title="springboot-github" target="_blank" rel="noopener">springboot-github</a></p>
<p>github官方wiki上说：</p>
<p>Spring Boot makes it easy to create Spring-powered, production-grade applications and services with absolute minimum fuss. It takes an opinionated view of the Spring platform so that new and existing users can quickly get to the bits they need.</p>
<p>这段英文有点绕，其实主要意思就是，能让以spring为基本框架的应用程序化繁为简，以绝对最小的代价提供最爽的服务。让开发者快速得到其想要的东西。</p>
<h2 id="不需要安装maven编译打包"><a href="#不需要安装maven编译打包" class="headerlink" title="不需要安装maven编译打包"></a>不需要安装maven编译打包</h2><pre><code>$ ./mvnw clean install
</code></pre><h2 id="丢弃xml配置文件，让开发专注开发"><a href="#丢弃xml配置文件，让开发专注开发" class="headerlink" title="丢弃xml配置文件，让开发专注开发"></a>丢弃xml配置文件，让开发专注开发</h2><p>springboot提供自动配置功能。</p>
<p>只要使用 @SpringBootApplication annotation 这个注解就可以了，它当于：使用了 @Configuration, @EnableAutoConfiguration 和 @ComponentScan 这些注解的默认属性。</p>
<h2 id="用YAML-代替-properties配置文件"><a href="#用YAML-代替-properties配置文件" class="headerlink" title="用YAML 代替 properties配置文件"></a>用YAML 代替 properties配置文件</h2><p>这个很简单，官网上已经讲得很清楚了：<br><a href="http://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/htmlsingle/#boot-features-external-config-yaml" target="_blank" rel="noopener"> 用YAML 代替 properties配置文件 </a></p>
<h2 id="启动入口由spring提供的容器入口启动"><a href="#启动入口由spring提供的容器入口启动" class="headerlink" title="启动入口由spring提供的容器入口启动"></a>启动入口由spring提供的容器入口启动</h2><p>在写了@SpringBootApplication annotation注解的类里的main方法入口：</p>
<pre><code>public static void main(String[] args) {
SpringApplication.run(Demo1Application.class, args);
}
</code></pre><p>然后运行这个类，spring就会启动内置的tomcat容器启动服务器。</p>
        
        
        <p class="article-more-link">
          
            <a href="/2017/07/29/一天上手springboot/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/springboot/">springboot</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/07/29/一天上手springboot/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/07/29/一天上手springboot/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/30/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="page-number" href="/page/30/">30</a><span class="page-number current">31</span><a class="page-number" href="/page/32/">32</a><a class="page-number" href="/page/33/">33</a><a class="page-number" href="/page/34/">34</a><a class="extend next" rel="next" href="/page/32/">Next<span></span></a>
  </nav>



</div>

      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="huguiqi" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/AFNetWork3-1/" title="AFNetWork3.1">AFNetWork3.1<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Alcatraz/" title="Alcatraz">Alcatraz<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/IT-运维/" title="IT&amp;运维">IT&amp;运维<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/activiti/" title="activiti">activiti<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/docker/" title="docker">docker<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/git/" title="git">git<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/github-博客/" title="github 博客">github 博客<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo插件/" title="hexo插件">hexo插件<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/ios-Developer/" title="ios Developer">ios Developer<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/java/" title="java">java<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/javascript/" title="javascript">javascript<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/node/" title="node">node<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/nodejs/" title="nodejs">nodejs<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/springCloud/" title="springCloud">springCloud<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/springboot/" title="springboot">springboot<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/activiti/springboot/" title="springboot">springboot<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/springcloud/" title="springcloud">springcloud<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/xcode/" title="xcode">xcode<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/专业技术-印象笔记/" title="专业技术(印象笔记)">专业技术(印象笔记)<sup>222</sup></a></li>
		  
		
		  
			<li><a href="/categories/前端技术/" title="前端技术">前端技术<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/大数据/" title="大数据">大数据<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/感悟/" title="感悟">感悟<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/杂谈/" title="杂谈">杂谈<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/科学上网/" title="科学上网">科学上网<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/站内搜索-博客/" title="站内搜索 博客">站内搜索 博客<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/管理/" title="管理">管理<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统/" title="系统">系统<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统-工具/" title="系统&amp;工具">系统&amp;工具<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统-运维/" title="系统&amp;运维">系统&amp;运维<sup>17</sup></a></li>
		  
		
		  
			<li><a href="/categories/网络配置/" title="网络配置">网络配置<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/读书笔记/" title="读书笔记">读书笔记<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/随笔/" title="随笔">随笔<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/面试题/" title="面试题">面试题<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/从印象笔记导入/" title="从印象笔记导入">从印象笔记导入<sup>222</sup></a></li>
			
		
			
				<li><a href="/tags/随笔/" title="随笔">随笔<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/springboot/" title="springboot">springboot<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/hexo/" title="hexo">hexo<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/面试题/" title="面试题">面试题<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/ReactNative/" title="ReactNative">ReactNative<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/spring-cloud/" title="spring cloud">spring cloud<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/nginx/" title="nginx">nginx<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Rejected/" title="Rejected">Rejected<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/javascript-原型编程/" title="javascript&amp;原型编程">javascript&amp;原型编程<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/nodejs/" title="nodejs">nodejs<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/docker-国内镜像/" title="docker 国内镜像">docker 国内镜像<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/ios-developer-upload/" title="ios developer upload">ios developer upload<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/docker-compose/" title="docker-compose">docker-compose<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/科学上网/" title="科学上网">科学上网<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ios-developer-证书过期/" title="ios developer 证书过期">ios developer 证书过期<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ios-developer-上传审核/" title="ios developer 上传审核">ios developer 上传审核<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/面试题-全栈/" title="面试题 全栈">面试题 全栈<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/hy/" title="hy">hy<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://godeggs.cn " target="_blank" title="承接手机app、微信、web开发">找人做软件</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.huguiqi.com." target="_blank" title="sam&#39;s Blog">sam&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  

<div class="doubanshow">
<p class="asidetitle">豆瓣秀</p>
<div>
<script type="text/javascript" src="http://www.douban.com/service/badge/64698454/?show=collection&amp;n=12&amp;columns=3&amp;hidelogo=yes&amp;hideself=yes&amp;cat=book|movie" ></script>
</div>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=1601653200&verifier=bd864c6a&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Sam.This is my Blog. <br/>
			Anything that can go wrong will go wrong</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/1601653200" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/huguiqi" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/XiaoheiSpring" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		<a href="https://www.facebook.com/sam.hu.7334" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		<a href="https://www.linkedin.com/in/小黑-胡-ab83b992" target="_blank" class="icon-linkedin" title="linkedin"></a>
		
		
		<a href="https://www.douban.com/people/64698454" target="_blank" class="icon-douban" title="豆瓣"></a>
		
		
		<a href="http://www.zhihu.com/people/hu-xiao-hei-53" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		<a href="https://plus.google.com/109318125124422212783?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:guiqi.hu@163.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="http://blog.huguiqi.com." target="_blank" title="sam">sam</a> © 2019 
		
		<a href="/about" target="_blank" title="sam">sam</a>
		
		
		</p>
</div>

 <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','qtnHgvQyg5N9h4en-9wA','2.0.0');
</script>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f5971877c7b77f98074be3ddabf34fbe";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

    <div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//huguiqicom.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<script id="dsq-count-scr" src="//huguiqicom.disqus.com/count.js" async></script>

    
  </body>
 </html>
