
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
  <meta name="keywords" content="胡小黑,架构师,资深软件工程师,object-c,swift,java,node,小黑,技术,大牛,阿里巴巴,腾讯,旅游">
  
  
    <title>小黑的技术博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="sam">
    
    <meta name="baidu-site-verification" content="zBj0BDqjSV" />
    
    <meta name="description" content="胡小黑 大型网络架构">
<meta name="keywords" content="胡小黑,架构师,资深软件工程师,object-c,swift,java,node,小黑,技术,大牛,阿里巴巴,腾讯,旅游">
<meta property="og:type" content="website">
<meta property="og:title" content="小黑的技术博客">
<meta property="og:url" content="http://www.huguiqi.com/page/33/index.html">
<meta property="og:site_name" content="小黑的技术博客">
<meta property="og:description" content="胡小黑 大型网络架构">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小黑的技术博客">
<meta name="twitter:description" content="胡小黑 大型网络架构">
<meta name="twitter:creator" content="@XiaoheiSpring">
<link rel="publisher" href="109318125124422212783">

    
    <link rel="alternative" href="/atom.xml" title="小黑的技术博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">

</head>

  <body>
    <header>
      
<div>
<p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></p>

		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="小黑的技术博客" title="小黑的技术博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="小黑的技术博客">小黑的技术博客</a></h1>
				<h2 class="blog-motto">不积跬步无以至千里</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li><a href="http://blog.huguiqi.com.">副站</a></li>
					<li>
 					
						<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" autocomplete="on" class="st-default-search-input"  name="q" maxlength="30" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/16/如何从spring-security3.x升级到4.2.3/" title="如何从spring-security3.x升级到4.2.3" itemprop="url">如何从spring-security3.x升级到4.2.3</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-07-15T17:10:00.000Z" itemprop="datePublished"> 发表于 2017-07-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="从spring-security3-x升级到4-2-3"><a href="#从spring-security3-x升级到4-2-3" class="headerlink" title="从spring-security3.x升级到4.2.3"></a>从spring-security3.x升级到4.2.3</h1><p>由于之前spring-security3.x用的是配置文件配置权限校验的，但升级到4.2.3以后，配置文件权限配置都失效了，尤其是UserDetailsService类，完全不走它的loadUserByUsername方法了。</p>
<p>查了很多资料，在官网上也走了很久，发现spring-security4.x的文档比较详细的是java 代码配置。看来spring-security目前推荐使用java配置，xml的完整配置都没有了。</p>
<p><a href="http://docs.spring.io/spring-security/site/docs/4.2.3.RELEASE/reference/htmlsingle/#samples" title="spring-security官网例子" target="_blank" rel="noopener"> spring-security官网例子 </a></p>
<p>在官网的例子里试了半天，发现其实官网关于配置文件的例子都不全，虽然感觉是对的，但是配置的项目中，还是非常有问题的，权限并没有生效。</p>
<p>官网一般给的都是这个配置：</p>
<pre><code>&lt;b:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;
 xmlns:b=&quot;http://www.springframework.org/schema/beans&quot;
 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
 xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;
&lt;http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;
&lt;intercept-url pattern=&quot;auth/login&quot; access=&quot;permitAll&quot;/&gt;
&lt;intercept-url pattern=&quot;main/admin&quot; access=&quot;hasAnyRole(&apos;ADMIN&apos;)&quot;/&gt;
&lt;intercept-url pattern=&quot;/main/common&quot; access=&quot;hasRole(&apos;USER&apos;)&quot;/&gt;
&lt;form-login login-page=&quot;/auth/login&quot;
login-processing-url=&quot;logIn.do&quot;
authentication-failure-url=&quot;/auth/login?error=true&quot;
default-target-url=&quot;/main/common&quot;/&gt;
&lt;logout
invalidate-session=&quot;true&quot;
logout-success-url=&quot;/auth/login&quot;
logout-url=&quot;/auth/logout&quot;/&gt;
&lt;access-denied-handler
error-page=&quot;/auth/denied&quot;
/&gt;
&lt;/http&gt;
&lt;authentication-manager&gt;
&lt;authentication-provider&gt;
&lt;user-service&gt;
&lt;user name=&quot;user&quot; password=&quot;123456&quot; authorities=&quot;USER&quot;/&gt;
&lt;/user-service&gt;
&lt;/authentication-provider&gt;
&lt;/authentication-manager&gt;

&lt;/b:beans&gt;
</code></pre><p>但经测试，通过配置的用户名登陆，只要登陆，它可以访问拥有USER和ADMIN权限的controller。<br>正常应该user用户只能访问/main/common路径才对。</p>
<p>由于弄了我半天，很头疼，就打算放弃配置文件了。</p>
        
        
        <p class="article-more-link">
          
            <a href="/2017/07/16/如何从spring-security3.x升级到4.2.3/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/spring-security/">spring-security</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/07/16/如何从spring-security3.x升级到4.2.3/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/07/16/如何从spring-security3.x升级到4.2.3/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/15/idea14部署tomcat7-tomcat8/" title="inteLij idea2017部署tomcat7-tomcat8" itemprop="url">inteLij idea2017部署tomcat7-tomcat8</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-07-15T15:00:00.000Z" itemprop="datePublished"> 发表于 2017-07-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="inteLij-idea2017部署tomcat7-tomcat8"><a href="#inteLij-idea2017部署tomcat7-tomcat8" class="headerlink" title="inteLij idea2017部署tomcat7-tomcat8"></a>inteLij idea2017部署tomcat7-tomcat8</h1><p>参考简书上一篇文章：<br><a href="http://www.jianshu.com/p/0aca0d876319" title="Intellij IDEA 中如何部署项目到 Tomcat" target="_blank" rel="noopener"> Intellij IDEA 中如何部署项目到 Tomcat </a></p>
<p>虽然已经图文并茂，感觉很清晰了，但是我的部署方法感觉比他更简单。</p>
<p>第一步：打开项目设置<br><img src="http://blog.huguiqi.com/1500133706147islmu24p.png?imageslim" alt="paste image"></p>
<p>第二步：构建app构件(一般是war包)</p>
<p><img src="http://blog.huguiqi.com/1500134262792wxdtrztt.png?imageslim" alt="paste image"></p>
<p><strong>注意，项目的依赖文件和jar包，都必须放在一起打包，否则部署会报错。</strong></p>
<p>第三步，配置tomcat并选择tomcat要部署的war包</p>
<p><img src="http://blog.huguiqi.com/1500134520412f5vjj7nr.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/15001345544352uwl3wep.png?imageslim" alt="paste image"></p>
<p><img src="http://blog.huguiqi.com/1500134563051szprzx0h.png?imageslim" alt="paste image"></p>
<p>点应用就行了。</p>
<p>第四步：启动tomcat</p>
<p><img src="http://blog.huguiqi.com/1500134712611ml6kmlbj.png?imageslim" alt="paste image"></p>
<p>是不是要简单太多。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/tomcat/">tomcat</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/07/15/idea14部署tomcat7-tomcat8/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/07/15/idea14部署tomcat7-tomcat8/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/14/maven无法更新jar的解决方案/" title="maven无法更新jar的解决方案" itemprop="url">maven无法更新jar的解决方案</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-07-13T23:00:00.000Z" itemprop="datePublished"> 发表于 2017-07-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="maven无法更新jar的解决方案"><a href="#maven无法更新jar的解决方案" class="headerlink" title="maven无法更新jar的解决方案"></a>maven无法更新jar的解决方案</h1><p>原因：<br>是由于上次运行mvn install 时，jar下载完全，或者老的jar没有删除干净，导致下载新的jar时，有冲突。</p>
<p>I had a related problem, but Raghuram’s answer helped. (I don’t have enough reputation yet to vote his answer up). I’m using Maven bundled with NetBeans, and was getting the same “…was cached in the local repository, resolution will not be reattempted until the update interval of nexus has elapsed or updates are forced -> <a href="">Help 1</a>“ error.<br>To fix this I added \<updatepolicy\>always\</updatepolicy\> to my settings file (C:\Program Files\NetBeans 7.0\java\maven\conf\settings.xml)</p>
<pre><code>&lt;profile&gt;
  &lt;id&gt;nexus&lt;/id&gt;
  &lt;!--Enable snapshots for the built in central repo to direct --&gt;
  &lt;!--all requests to nexus via the mirror --&gt;
  &lt;repositories&gt;
&lt;repository&gt;
  &lt;id&gt;central&lt;/id&gt;
  &lt;url&gt;http://central&lt;/url&gt;
  &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;&lt;/releases&gt;
  &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;&lt;/snapshots&gt;
&lt;/repository&gt;
  &lt;/repositories&gt;
 &lt;pluginRepositories&gt;
&lt;pluginRepository&gt;
  &lt;id&gt;central&lt;/id&gt;
  &lt;url&gt;http://central&lt;/url&gt;
  &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;&lt;/releases&gt;
  &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;&lt;/snapshots&gt;
&lt;/pluginRepository&gt;
  &lt;/pluginRepositories&gt;
&lt;/profile&gt;
</code></pre><p>或者通过pom.xml配置<br>pom.xml:</p>
<pre><code>&lt;repositories&gt;
&lt;repository&gt;
&lt;id&gt;alimaven&lt;/id&gt;
&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
&lt;releases&gt;
&lt;enabled&gt;false&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;checksumPolicy&gt;warn&lt;/checksumPolicy&gt;
&lt;/releases&gt;
&lt;/repository&gt;
&lt;repository&gt;
&lt;id&gt;archiva.default&lt;/id&gt;
&lt;url&gt;http://repository.sonatype.org/&lt;/url&gt;
&lt;releases&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;/releases&gt;
&lt;snapshots&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;/snapshots&gt;
&lt;/repository&gt;

&lt;repository&gt;
&lt;id&gt;archiva.3&lt;/id&gt;
&lt;url&gt;http://www.mvnrepository.com/&lt;/url&gt;
&lt;releases&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;/releases&gt;
&lt;snapshots&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;/snapshots&gt;
&lt;/repository&gt;
&lt;repository&gt;
&lt;id&gt;archiva.5&lt;/id&gt;
&lt;url&gt;http://repository.jboss.com/maven2/&lt;/url&gt;
&lt;releases&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;/releases&gt;
&lt;snapshots&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;/snapshots&gt;
&lt;/repository&gt;
&lt;repository&gt;
&lt;id&gt;releases&lt;/id&gt;
&lt;name&gt;Releases&lt;/name&gt;
&lt;url&gt;https://oss.sonatype.org/content/repositories/releases&lt;/url&gt;
&lt;releases&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;/releases&gt;
&lt;snapshots&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
&lt;/snapshots&gt;
&lt;/repository&gt;
&lt;/repositories&gt;
</code></pre><p>再次运行mvn clean install 解决。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/maven/">maven</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/07/14/maven无法更新jar的解决方案/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/07/14/maven无法更新jar的解决方案/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/13/分布式系统事务一致性解决方案与实践/" title="分布式系统事务一致性解决方案与实践" itemprop="url">分布式系统事务一致性解决方案与实践</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-07-12T17:20:00.000Z" itemprop="datePublished"> 发表于 2017-07-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/分布式/">分布式</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/07/13/分布式系统事务一致性解决方案与实践/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/07/13/分布式系统事务一致性解决方案与实践/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/09/线程并发与通信/" title="线程并发与通信" itemprop="url">线程并发与通信</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-07-09T07:00:00.000Z" itemprop="datePublished"> 发表于 2017-07-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="线程并发与通信"><a href="#线程并发与通信" class="headerlink" title="线程并发与通信"></a>线程并发与通信</h1><p><a href="http://wiki.jikexueyuan.com/project/java-concurrent/introduction.html" target="_blank" rel="noopener">参考文章</a></p>
<ul>
<li>多线程与cpu是单核还是多核无关，只是合理的利用cpu资源的一种方法</li>
<li>多线程更多与分布式系统的并发性一起被提及</li>
<li>线程间写入与访问共享资源问题，因共享资源存在不同步，产生线程安全问题</li>
<li>分布式系统共享资源多线程问题</li>
</ul>
<h2 id="线程并发问题"><a href="#线程并发问题" class="headerlink" title="线程并发问题"></a>线程并发问题</h2><p>• 多线程：指的是这个程序（一个进程）运行时产生了不止一个线程<br>• 并行与并发：<br>◦ 并行：多个cpu实例或者多台机器同时执行一段处理逻辑，是真正的同时。<br>◦ 并发：通过cpu调度算法，让用户看上去同时执行，实际上从cpu操作层面不是真正的同时。并发往往在场景中有公用的资源，那么针对这个公用的资源往往产生瓶颈，我们会用TPS或者QPS来反应这个系统的处理能力。</p>
<p><a href="http://www.importnew.com/21089.html" target="_blank" rel="noopener">多线程参考文章</a></p>
<h2 id="并发场景与解决问题"><a href="#并发场景与解决问题" class="headerlink" title="并发场景与解决问题"></a>并发场景与解决问题</h2><p>共享实例变量、共享连接资源时。<br>并发问题举例：<br>银行转账问题<br>投票问题<br>卖票问题<br>订单消库存问题<br>连接池问题</p>
<h2 id="什么是IPC"><a href="#什么是IPC" class="headerlink" title="什么是IPC"></a>什么是IPC</h2><p>进程间通信（IPC，Inter-Process Communication），指至少两个进程或线程间传送数据或信号的一些技术或方法。<br>RPC、RMI、EJB、WebService都是IPC的一种方法。</p>
<h2 id="线程通信"><a href="#线程通信" class="headerlink" title="线程通信"></a>线程通信</h2><p><a href="http://wiki.jikexueyuan.com/project/java-concurrent/thread-communication.html" target="_blank" rel="noopener">参考文章</a><br> 线程通信的目标是使线程间能够互相发送信号。另一方面，线程通信使线程能够等待其他线程的信号。<br>例如，线程 B 可以等待线程 A 的一个信号，这个信号会通知线程 B 数据已经准备好了。本文将讲解以下几个 JAVA 线程间通信的主题：</p>
<ol>
<li>通过共享对象通信</li>
<li>忙等待</li>
<li>wait()，notify()和 notifyAll()</li>
<li>丢失的信号</li>
<li>假唤醒</li>
<li>多线程等待相同信号</li>
<li>不要对常量字符串或全局对象调用 wait()</li>
</ol>
<h3 id="通过案例一步步解决并发问题"><a href="#通过案例一步步解决并发问题" class="headerlink" title="通过案例一步步解决并发问题"></a>通过案例一步步解决并发问题</h3><p>卖票案例：<br>假如库存有100张票，在高并发的环境下售卖，会有什么问题，怎么解决？</p>
<pre><code>package com.wolf.thread.model;

import org.junit.Test;



class Ticket {

private int num;

public Ticket(){
    super();
}

public Ticket(int num) {
    this.num = num;
}

public int getNum() {
    return num;
}

public  void setNum(int num) {
    this.num = num;
}
}


public class TicketTest{

@Test
public void testSall(){
    final Ticket ticket = new Ticket(10);
        //分四个线程去卖票，直到票卖完
        new Thread(new TicketRunnable(ticket)).start();
        new Thread(new TicketRunnable(ticket)).start();
        new Thread(new TicketRunnable(ticket)).start();
        new Thread(new TicketRunnable(ticket)).start();
        new Thread(new TicketRunnable(ticket)).start();


}

}

class TicketRunnable implements Runnable{

private Ticket ticket;

public TicketRunnable(Ticket ticket) {
    this.ticket = ticket;
}

@Override
public void run() {

           while (true){
                   if (ticket.getNum() &gt; 0) {
                       ticket.setNum(ticket.getNum() - 1);
                       System.out.println(Thread.currentThread().getName() + &quot;.....sale....&quot; + ticket.getNum());
                   }
           }
        }
    }
</code></pre><p>运行了几次，发现总有重复卖票的情况：</p>
<p><img src="http://blog.huguiqi.com/1499649740468a09sykrv.png?imageslim" alt="paste image"></p>
<p>这很明显是并发操作共享资源导致的问题。</p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><ol>
<li>在操作共享源的代码块或方法加上synchronized关键字，虽然可以简单的解决，但是会很影响性能。</li>
<li>设置对象共享锁</li>
</ol>
<h4 id="设置对象共享锁"><a href="#设置对象共享锁" class="headerlink" title="设置对象共享锁"></a>设置对象共享锁</h4><p>class Ticket {</p>
<pre><code>private int num;

public Ticket(){
    super();
}

public Ticket(int num) {
    this.num = num;
}

public int getNum() {
    return num;
}

public  void setNum(int num) {
    this.num = num;
}
}


public class TicketTest{

@Test
public void testSall(){
    final Ticket ticket = new Ticket(10);
        //分四个线程去卖票，直到票卖完
        new Thread(new TicketRunnable(ticket)).start();
        new Thread(new TicketRunnable(ticket)).start();
        new Thread(new TicketRunnable(ticket)).start();
        new Thread(new TicketRunnable(ticket)).start();
        new Thread(new TicketRunnable(ticket)).start();


}

}

class TicketRunnable implements Runnable{

private Ticket ticket;
//线程是否被通知
private  boolean hasSall;

public TicketRunnable(Ticket ticket) {
    this.ticket = ticket;
}

@Override
public void run() {

           while (true){
               synchronized (ticket){
                   if (hasSall) {
                       try {
                           ticket.wait();
                       } catch (InterruptedException e) {
                           e.printStackTrace();
                       }
                       //等待完后才会执行这句，说明上个卖票线程已经执行完，hasSall要重置成已卖
                       hasSall = false;
                   }
               }

               if (ticket.getNum() &gt; 0) {
                   ticket.setNum(ticket.getNum() - 1);
                   System.out.println(Thread.currentThread().getName() + &quot;.....sale....&quot; + ticket.getNum());
                   //notify,只要线程卖了，就设置共享状态为true已通知
                   synchronized (ticket){
                       //设置卖票状态为正在卖
                       hasSall = true;
                       ticket.notify();
                   }
               }

           }
        }
    }
</code></pre><p>这种方法也是加锁，但是经测试，这个场景无法达到和使用synchronized同步代码块时的效果。</p>
<ol>
<li>使用并发包提供的线程锁进行加锁</li>
</ol>
        
        
        <p class="article-more-link">
          
            <a href="/2017/07/09/线程并发与通信/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/线程/">线程</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/07/09/线程并发与通信/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/07/09/线程并发与通信/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/30/TreeMap实现原理深究/" title="TreeMap实现原理深究" itemprop="url">TreeMap实现原理深究</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-06-30T13:22:00.000Z" itemprop="datePublished"> 发表于 2017-06-30</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>Java TreeMap实现了SortedMap接口，也就是说会按照key的大小顺序对Map中的元素进行排序，key大小的评判可以通过其本身的自然顺序（natural ordering），也可以通过构造时传入的比较器（Comparator）。<br>TreeMap底层通过红黑树（Red-Black tree）实现，也就意味着containsKey(), get(), put(), remove()都有着log(n)的时间复杂度。</p>
</blockquote>
<p>这句话是我在网上摘抄的，对于这句话，有很多的不理解，所以通过查阅TreeMap的源码来解惑。(其实就是原文作者装逼，很多知识点就是不明说)</p>
<h2 id="惑一：natural-ordering"><a href="#惑一：natural-ordering" class="headerlink" title="惑一：natural ordering"></a>惑一：natural ordering</h2><blockquote>
<p>TreeMap实现了SortedMap接口，也就是说会按照key的大小顺序对Map中的元素进行排序，key大小的评判可以通过其本身的自然顺序（natural ordering）</p>
</blockquote>
<p>先来看看这段代码：</p>
<pre><code>TreeMap map = new TreeMap();
map.put(&quot;A&quot;,&quot;1&quot;);
map.put(&quot;C&quot;,&quot;2&quot;);
map.put(&quot;B&quot;,&quot;3&quot;);
map.put(&quot;E&quot;,&quot;4&quot;);
map.put(&quot;D&quot;,&quot;5&quot;);
System.out.println(map);
</code></pre><p>output:</p>
<pre><code>{A=1, B=3, C=2, D=5, E=4}
</code></pre><p>可以发现，默认按照升序自动排序了。</p>
<p>通过查阅TreeMap源码，发现treeMap的put方法如下：</p>
<pre><code>public V put(K key, V value) {
Entry&lt;K,V&gt; t = root;
if (t == null) {
compare(key, key); // type (and possibly null) check

root = new Entry&lt;&gt;(key, value, null);
size = 1;
modCount++;
return null;
}
int cmp;
Entry&lt;K,V&gt; parent;
// split comparator and comparable paths
Comparator&lt;? super K&gt; cpr = comparator;
if (cpr != null) {
do {
parent = t;
cmp = cpr.compare(key, t.key);
if (cmp &lt; 0)
t = t.left;
else if (cmp &gt; 0)
t = t.right;
else
return t.setValue(value);
} while (t != null);
}
else {
if (key == null)
throw new NullPointerException();
@SuppressWarnings(&quot;unchecked&quot;)
Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key;
do {
parent = t;
cmp = k.compareTo(t.key);
if (cmp &lt; 0)
t = t.left;
else if (cmp &gt; 0)
t = t.right;
else
return t.setValue(value);
} while (t != null);
}
Entry&lt;K,V&gt; e = new Entry&lt;&gt;(key, value, parent);
if (cmp &lt; 0)
parent.left = e;
else
parent.right = e;
fixAfterInsertion(e);
size++;
modCount++;
return null;
}


/**
Compares two keys using the correct comparison method for this TreeMap.
 */
@SuppressWarnings(&quot;unchecked&quot;)
final int compare(Object k1, Object k2) {
return comparator==null ? ((Comparable&lt;? super K&gt;)k1).compareTo((K)k2)
: comparator.compare((K)k1, (K)k2);
}
</code></pre><p>找出关键代码：</p>
<pre><code>Comparator&lt;? super K&gt; cpr = comparator;
if (cpr != null) {
do {
parent = t;
cmp = cpr.compare(key, t.key);
if (cmp &lt; 0)
t = t.left;
else if (cmp &gt; 0)
t = t.right;
else
return t.setValue(value);
} while (t != null);
}
else {
if (key == null)
throw new NullPointerException();
@SuppressWarnings(&quot;unchecked&quot;)
Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key;
do {
parent = t;
cmp = k.compareTo(t.key);
if (cmp &lt; 0)
t = t.left;
else if (cmp &gt; 0)
t = t.right;
else
return t.setValue(value);
} while (t != null);
}
</code></pre>
        
        
        <p class="article-more-link">
          
            <a href="/2017/06/30/TreeMap实现原理深究/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/面试题/">面试题</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/06/30/TreeMap实现原理深究/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/06/30/TreeMap实现原理深究/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/26/HashMap实现原理深究/" title="HashMap实现原理深究" itemprop="url">HashMap实现原理深究</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-06-26T09:23:00.000Z" itemprop="datePublished"> 发表于 2017-06-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>最近被问到HashMap的原理比较多；</p>
<ol>
<li>HashMap继承自AbstractMap抽象类，而AbstractMap实现了Map接口</li>
<li>HashMap允许设置空(null)值</li>
<li>HashMap的方法不是同步的，是异步的，因此不是线程安全的。</li>
<li>HashMap中数据是无序的。有序的参见TreeMap和LinkedHashMap。</li>
</ol>
<h2 id="实现原理："><a href="#实现原理：" class="headerlink" title="实现原理："></a>实现原理：</h2><p>HashMap如何使用：</p>
<pre><code>HashMap map = new HashMap();
map.put(“key”,”value”);
</code></pre><h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p>new HashMap 是调用构造方法初始化对象，它有几个构造方法：<br>\1.<br>//initialCapacity是初始化空间大小，loadFactor是装载空间数，影响读取与写入的使用线程数量<br>    public HashMap(int initialCapacity, float loadFactor)<br>    {<br>    ……..<br>    }</p>
<ol>
<li><p>初始化空间大小</p>
<p> public HashMap(int initialCapacity) {<br> this(initialCapacity, DEFAULT_LOAD_FACTOR);<br> }</p>
</li>
<li><p>默认构造方法<br> public HashMap() {<br> this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted<br> }</p>
</li>
</ol>
<h3 id="put-get方法"><a href="#put-get方法" class="headerlink" title="put/get方法"></a>put/get方法</h3><pre><code>public V put(K key, V value) {
return putVal(hash(key), key, value, false, true);
}

public V get(Object key) {
Node&lt;K,V&gt; e;
return (e = getNode(hash(key), key)) == null ? null : e.value;
}
</code></pre><p>好像挻简单的，但是它里面做了多少事情呢？再继续看；</p>
<pre><code>/**
Implements Map.put and related methods
 *
@param hash hash for key
@param key the key
@param value the value to put
@param onlyIfAbsent if true, don&apos;t change existing value
@param evict if false, the table is in creation mode.
@return previous value, or null if none
 */
final V putVal(int hash, K key, V value, boolean onlyIfAbsent,
   boolean evict) {
Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;
if ((tab = table) == null || (n = tab.length) == 0)
n = (tab = resize()).length;
if ((p = tab[i = (n - 1) &amp; hash]) == null)
tab[i] = newNode(hash, key, value, null);
else {
Node&lt;K,V&gt; e; K k;
if (p.hash == hash &amp;&amp;
((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))
e = p;
else if (p instanceof TreeNode)
e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);
else {
for (int binCount = 0; ; ++binCount) {
if ((e = p.next) == null) {
p.next = newNode(hash, key, value, null);
if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st
treeifyBin(tab, hash);
break;
}
if (e.hash == hash &amp;&amp;
((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))
break;
p = e;
}
}
if (e != null) { // existing mapping for key
V oldValue = e.value;
if (!onlyIfAbsent || oldValue == null)
e.value = value;
afterNodeAccess(e);
return oldValue;
}
}
++modCount;
if (++size &gt; threshold)
resize();
afterNodeInsertion(evict);
return null;
}
</code></pre><p>put的方法做了这么多事，首先putVal方法有五个参数：</p>
<ul>
<li><p>hash: key所对应的hash数值(重新作了运算的)</p>
<p>  看源码发现，返回的是一个数值：<br>  static final int hash(Object key) {<br>  int h;<br>  return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);<br>  }<br>key.hashCode()是Object的原始方法，返回的是对象的hashCode值，是数字。返回的是java的System类的静态native值(什么是native修饰符，等下解释)：<br>  /<em>*<br>  Returns the same hash code for the given object as<br>  would be returned by the default method hashCode(),<br>  whether or not the given object’s class overrides<br>  hashCode().<br>  The hash code for the null reference is zero.
   </em><br>  @param x object for which the hashCode is to be calculated<br>  @return  the hashCode<br>  @since   JDK1.1<br>   */<br>  public static native int identityHashCode(Object x);</p>
</li>
</ul>
<p>而返回的hashCode并非真正的原始object的hashCode值，而是作了逻辑异或运算，h>>>16代表将hashCode值向右移位16位后的值，是让hashCode与它作逻辑异或运算得到的值，相当于加了一层密。</p>
<ul>
<li>key: 键名</li>
<li>value:存储元素</li>
<li><p>onlyIfAbsent: if true, don’t change existing value,默认是false</p>
</li>
<li><p>evict:if false, the table is in creation mode.  in creation mode 是什么模式？<br>  evict根据后面的代码看，这个参数在HashMap里是不起作用的，因为在putVal里调用了<code>afterNodeInsertion(evict);</code>，但是我点进去，发现并没有实现：</p>
<pre><code>void afterNodeInsertion(boolean evict) { }
</code></pre></li>
</ul>
        
        
        <p class="article-more-link">
          
            <a href="/2017/06/26/HashMap实现原理深究/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/java/">java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/面试题/">面试题</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/06/26/HashMap实现原理深究/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/06/26/HashMap实现原理深究/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/07/WKWebView设置保持session免登陆/" title="WKWebView设置保持session免登陆" itemprop="url">WKWebView设置保持session免登陆</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-06-07T06:05:00.000Z" itemprop="datePublished"> 发表于 2017-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="WKWebView概述"><a href="#WKWebView概述" class="headerlink" title="WKWebView概述"></a>WKWebView概述</h2><p>• WKWebView是苹果在WWDC 2014 上推出的新一代WebView组件，相比iOS8及以前的UIWebView拥有更明显的优势</p>
<ol>
<li>更多的支持HTML5的特性</li>
<li>高达60fps的滚动刷新率以及内置手势</li>
<li>将UIWebViewDelegate与UIWebView拆分成了14类和3个协议</li>
<li>Safari相同的JS引擎</li>
<li>占用更少的内存<br>-
        
        
        <p class="article-more-link">
          
            <a href="/2017/06/07/WKWebView设置保持session免登陆/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/iOS/">iOS</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/cordova/">cordova</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/06/07/WKWebView设置保持session免登陆/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/06/07/WKWebView设置保持session免登陆/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/07/AFNetWork3.1对https无证书访问支持/" title="AFNetWork3.1对https无证书访问支持" itemprop="url">AFNetWork3.1对https无证书访问支持</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-06-07T02:02:00.000Z" itemprop="datePublished"> 发表于 2017-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>昨天在新公司调用公司生产环境时，发现公司生产环境是https协议，而ios端用的AFNetWork去访问时，报出：</p>
<p><code>In order to validate a domain name for self signed certificates, you MUST use pinning.</code></p>
<p>从字面上看，这个错误是因为证书的问题导致的，应该是客户端需要证书认证，但问服务器，服务器说，不会给证书给客户端，可能服务端说的是私钥不会给，但正常情况下，应该需要授权公钥给客户端，那我只能通过免证书的方式去做了，google了一下，通过设置如下代码亲测有效：</p>
<pre><code>NSURLSessionConfiguration *configuration = \[NSURLSessionConfiguration defaultSessionConfiguration];

self.requestOperationManager = [[[AFHTTPSessionManager alloc] initWithSessionConfiguration:configuration];
// 如果是需要验证自建证书，需要设置为YES
self.requestOperationManager.securityPolicy.allowInvalidCertificates = YES;
//设置是否域名一致性验证
self.requestOperationManager.securityPolicy.validatesDomainName = NO;
</code></pre><p><em>注意：后面<code>self.requestOperationManager.securityPolicy.validatesDomainName</code>必须设置为NO，否则https不起效。</em></p>
<p>参考了这篇文章：</p>
<p><a href="http://www.jianshu.com/p/f732749ce786" target="_blank" rel="noopener">AFNetWork3.1设置免证书访问https</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/AFNetWork3-1/">AFNetWork3.1</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/证书/">证书</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/06/07/AFNetWork3.1对https无证书访问支持/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/06/07/AFNetWork3.1对https无证书访问支持/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/05/05/xcode8中Alcatraz安装插件/" title="xcode8中Alcatraz安装插件" itemprop="url">xcode8中Alcatraz安装插件</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2017-05-05T10:51:00.000Z" itemprop="datePublished"> 发表于 2017-05-05</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="xcode8中Alcatraz安装插件"><a href="#xcode8中Alcatraz安装插件" class="headerlink" title="xcode8中Alcatraz安装插件"></a>xcode8中Alcatraz安装插件</h1><p>Xcode 8开始对于Alcatraz中安装的插件已经不支持,但是苹果推出了自己的扩展 </p>
<h2 id="如何解决"><a href="#如何解决" class="headerlink" title="如何解决"></a>如何解决</h2><p>由于使用插件已经成为习惯（Xcode8下安装Alcatraz） </p>
<ol>
<li><p>安装</p>
<p> sudo gem install update_xcode_plugins </p>
</li>
<li><p>查看<br> update_xcode_plugins </p>
</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/1197386-2a909369ee06d8fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<ol>
<li>复制箭头的命令行执行：<pre><code>update\_xcode\_plugins --unsign 
</code></pre></li>
</ol>
<p>选择你要unsign的xcode,回车就好了。。。。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/xcode/">xcode</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/插件/">插件</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/05/05/xcode8中Alcatraz安装插件/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/05/05/xcode8中Alcatraz安装插件/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/32/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="page-number" href="/page/32/">32</a><span class="page-number current">33</span><a class="page-number" href="/page/34/">34</a><a class="page-number" href="/page/35/">35</a><a class="extend next" rel="next" href="/page/34/">Next<span></span></a>
  </nav>



</div>

      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="huguiqi" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/AFNetWork3-1/" title="AFNetWork3.1">AFNetWork3.1<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Alcatraz/" title="Alcatraz">Alcatraz<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/IT-运维/" title="IT&amp;运维">IT&amp;运维<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/activiti/" title="activiti">activiti<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/docker/" title="docker">docker<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/git/" title="git">git<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/github-博客/" title="github 博客">github 博客<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo插件/" title="hexo插件">hexo插件<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/ios-Developer/" title="ios Developer">ios Developer<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/java/" title="java">java<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/javascript/" title="javascript">javascript<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/node/" title="node">node<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/nodejs/" title="nodejs">nodejs<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/redis/" title="redis">redis<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/springCloud/" title="springCloud">springCloud<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/springboot/" title="springboot">springboot<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/activiti/springboot/" title="springboot">springboot<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/springcloud/" title="springcloud">springcloud<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/xcode/" title="xcode">xcode<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/专业技术-印象笔记/" title="专业技术(印象笔记)">专业技术(印象笔记)<sup>222</sup></a></li>
		  
		
		  
			<li><a href="/categories/前端技术/" title="前端技术">前端技术<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/大数据/" title="大数据">大数据<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/感悟/" title="感悟">感悟<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/杂谈/" title="杂谈">杂谈<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/科学上网/" title="科学上网">科学上网<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/站内搜索-博客/" title="站内搜索 博客">站内搜索 博客<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/管理/" title="管理">管理<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统/" title="系统">系统<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统-工具/" title="系统&amp;工具">系统&amp;工具<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统-运维/" title="系统&amp;运维">系统&amp;运维<sup>17</sup></a></li>
		  
		
		  
			<li><a href="/categories/网络配置/" title="网络配置">网络配置<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/读书笔记/" title="读书笔记">读书笔记<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/随笔/" title="随笔">随笔<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/面试题/" title="面试题">面试题<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/从印象笔记导入/" title="从印象笔记导入">从印象笔记导入<sup>222</sup></a></li>
			
		
			
				<li><a href="/tags/随笔/" title="随笔">随笔<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/springboot/" title="springboot">springboot<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/spring-cloud/" title="spring cloud">spring cloud<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/面试题/" title="面试题">面试题<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Rejected/" title="Rejected">Rejected<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/hexo/" title="hexo">hexo<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/nginx/" title="nginx">nginx<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/ReactNative/" title="ReactNative">ReactNative<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/javascript-原型编程/" title="javascript&amp;原型编程">javascript&amp;原型编程<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/jenkins/" title="jenkins">jenkins<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/nodejs/" title="nodejs">nodejs<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/docker-compose/" title="docker-compose">docker-compose<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/redis/" title="redis">redis<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/ios-developer-upload/" title="ios developer upload">ios developer upload<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/docker-国内镜像/" title="docker 国内镜像">docker 国内镜像<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/ios-developer-上传审核/" title="ios developer 上传审核">ios developer 上传审核<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/面试题-全栈/" title="面试题 全栈">面试题 全栈<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/hy/" title="hy">hy<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://godeggs.cn " target="_blank" title="承接手机app、微信、web开发">找人做软件</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.huguiqi.com." target="_blank" title="sam&#39;s Blog">sam&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  

<div class="doubanshow">
<p class="asidetitle">豆瓣秀</p>
<div>
<script type="text/javascript" src="http://www.douban.com/service/badge/64698454/?show=collection&amp;n=12&amp;columns=3&amp;hidelogo=yes&amp;hideself=yes&amp;cat=book|movie" ></script>
</div>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=1601653200&verifier=bd864c6a&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Sam.This is my Blog. <br/>
			Anything that can go wrong will go wrong</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/1601653200" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/huguiqi" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/XiaoheiSpring" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		<a href="https://www.facebook.com/sam.hu.7334" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		<a href="https://www.linkedin.com/in/小黑-胡-ab83b992" target="_blank" class="icon-linkedin" title="linkedin"></a>
		
		
		<a href="https://www.douban.com/people/64698454" target="_blank" class="icon-douban" title="豆瓣"></a>
		
		
		<a href="http://www.zhihu.com/people/hu-xiao-hei-53" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		<a href="https://plus.google.com/109318125124422212783?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:guiqi.hu@163.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="http://blog.huguiqi.com." target="_blank" title="sam">sam</a> © 2019 
		
		<a href="/about" target="_blank" title="sam">sam</a>
		
		
		</p>
</div>

 <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','qtnHgvQyg5N9h4en-9wA','2.0.0');
</script>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f5971877c7b77f98074be3ddabf34fbe";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

    <div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//huguiqicom.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<script id="dsq-count-scr" src="//huguiqicom.disqus.com/count.js" async></script>

    
  </body>
 </html>
