
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
  <meta name="keywords" content="胡小黑,架构师,资深软件工程师,object-c,swift,java,node,小黑,技术,大牛,阿里巴巴,腾讯,旅游">
  
  
    <title>小黑的技术博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="sam">
    
    <meta name="baidu-site-verification" content="zBj0BDqjSV" />
    
    <meta name="description" content="胡小黑 大型网络架构">
<meta name="keywords" content="胡小黑,架构师,资深软件工程师,object-c,swift,java,node,小黑,技术,大牛,阿里巴巴,腾讯,旅游">
<meta property="og:type" content="website">
<meta property="og:title" content="小黑的技术博客">
<meta property="og:url" content="http://www.huguiqi.com/page/7/index.html">
<meta property="og:site_name" content="小黑的技术博客">
<meta property="og:description" content="胡小黑 大型网络架构">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小黑的技术博客">
<meta name="twitter:description" content="胡小黑 大型网络架构">
<meta name="twitter:creator" content="@XiaoheiSpring">
<link rel="publisher" href="109318125124422212783">

    
    <link rel="alternative" href="/atom.xml" title="小黑的技术博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">

</head>

  <body>
    <header>
      
<div>
<p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></p>

		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="小黑的技术博客" title="小黑的技术博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="小黑的技术博客">小黑的技术博客</a></h1>
				<h2 class="blog-motto">不积跬步无以至千里</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li><a href="http://blog.huguiqi.com.">副站</a></li>
					<li>
 					
						<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" autocomplete="on" class="st-default-search-input"  name="q" maxlength="30" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/27/管理者的自省/" title="如何准确清楚认识自己" itemprop="url">如何准确清楚认识自己</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-07-27T13:38:16.000Z" itemprop="datePublished"> 发表于 2016-07-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><br></p>
<h1 id="管理者的自省"><a href="#管理者的自省" class="headerlink" title="管理者的自省"></a>管理者的自省</h1><p>准确的说，从去年开始，我就从纯技术岗位走向了偏管理的路，这一路，肯定会遇到很多困难与挑战，要想战胜它们，成为优秀的管理者，则必须每日修正，阶段总结，使自己优秀、高效、成熟。。。。。。</p>
<h2 id="管理者首先要管理的是自己的时间-管好自己的时间，就是最优秀的管理者"><a href="#管理者首先要管理的是自己的时间-管好自己的时间，就是最优秀的管理者" class="headerlink" title="管理者首先要管理的是自己的时间,管好自己的时间，就是最优秀的管理者"></a>管理者首先要管理的是自己的时间,管好自己的时间，就是最优秀的管理者</h2><p>而面对自我的管理，需要时刻能够清楚回答以下这些问题：</p>
<ul>
<li>这些问题都是管理者应该时常思考的。只有真正认识了自己，才能根据自身的情况为自己定出切合实际的人生目标。</li>
</ul>
<h3 id="我是谁？"><a href="#我是谁？" class="headerlink" title="我是谁？"></a>我是谁？</h3><ul>
<li>88年生人，对外一直号称87年，都是身份证的错。</li>
<li>湖南普通农村家庭，父母在外为生意人，家有良田、数片果园，一片竹林</li>
<li>大学学习计算机软件专业，从2010年6月至今，一直从事计算机软件行业</li>
<li>无恋爱史，性格对男性表现为外向，对女性则表现为内向</li>
<li>语言表达能力于从事软件行业中逐渐退化，努力恢复中</li>
<li>理解能力欠佳，偶尔表现为中等偏上。</li>
<li>行事有时犹豫不绝，思维不够缜密，有时会失言坏事</li>
<li>行为表现不够自信，需要内心足够强大，让别人更加信任你</li>
<li>专业基础还算扎实，专业深度还不够，技术涉及面比较广，属于综合型人才</li>
<li>专业理论术语积累不够，技术的扩展与深入需要专业的理论支持加以理解、深刻</li>
<li>与非技术人员交流技巧不够，学会比喻，目的是用最简洁的话来解释技术问题(大部分情况对方不关心你的技术，只关心是否能行？为什么不行？什么时候行？这种结果式的东西，千万不要用术语解释技术)</li>
<li>对将来职业规划是往管理方向转型，更多的是管理时间，但不希望丢掉技术(终究是技术为本)</li>
<li>三大爱好：唱歌、台球、摄影</li>
<li>自控力不强，需要每天提醒自己</li>
<li>处事原则：<ul>
<li>永远不要浪费时间</li>
<li>永远耐心地倾听对方诉说</li>
<li>永远衣冠整洁</li>
<li>永远不要自吹自擂，自然明确地显示你的分量</li>
<li>不要按你的收入过日子！这样能使一个人变得自信。</li>
<li>与人方便就是与己方便</li>
<li>对朋友一定要真诚、竭尽所能</li>
<li>背叛过你的人，绝对不可信</li>
<li>做决定时，要保证观点的全面(至少三个)</li>
<li>怀疑一切，但不要随便与人说，直到找到可靠证据</li>
</ul>
</li>
</ul>
<h3 id="我的长处何在？"><a href="#我的长处何在？" class="headerlink" title="我的长处何在？"></a>我的长处何在？</h3><ul>
<li>对专业新技术学习非常渴望。</li>
<li>相信爱情，反感性格张扬的人</li>
<li>善于发现问题，善于自省，对自身各种问题会及时改正避免</li>
<li>上进心较强，通过书籍、网络各种渠道提升自己的人格与修养，扩宽知识面</li>
<li>会写诗</li>
<li>严于律已，宽于待人</li>
<li>内心很天真，童心未泯</li>
<li>喜欢真实的人，一切原汁原味的东西</li>
<li>实实在在的做事</li>
</ul>
<h3 id="我是如何工作的？"><a href="#我是如何工作的？" class="headerlink" title="我是如何工作的？"></a>我是如何工作的？</h3><ul>
<li>每天早上或者前一天将当天的工作计划好，当然，计划永远赶不上变化，你计划的任务未必能完全执行下去；</li>
<li>计划的任务经常因为其它事无法专注、按时完成</li>
<li>拖延症比较严重，希望自控力能够更好些</li>
<li>每两周作一次工作计划，将整个团队的工作进行梳理</li>
<li>定期总结团队的问题，与提出解决方案</li>
<li>不断的学习与积累管理经验</li>
<li>每个月坚持看完两本书，一本专业方向，一本兴趣类方向，如果太忙，一个月至少一本</li>
<li>不定期更新博客</li>
<li>将个人以品牌的方式进行经营</li>
</ul>
<h3 id="我的价值观是什么？"><a href="#我的价值观是什么？" class="headerlink" title="我的价值观是什么？"></a>我的价值观是什么？</h3><ul>
<li>对工作需要激情</li>
<li>对爱情需要包容</li>
<li>对朋友需要坦诚</li>
<li>没有绝对的公平，只有平等的努力</li>
<li>没有免费的午餐，一切骗局都是利用人的欲望</li>
</ul>
<h3 id="我属于何处？"><a href="#我属于何处？" class="headerlink" title="我属于何处？"></a>我属于何处？</h3><p>能在北上广立足的，都应该是精英，而我自认为不是；但正在往精英的路上奔走，最近很多互联网公司从业者太浮躁了，永远是想着可以get多少，而不是give多少，不想办法提高自己真实能力，而是在嘴上下功夫，牛皮吹的特别响，但了解他们的人都知道他有几份斤两；<br></p>
<p>曾经有个同行的人跟我说，在公司里，就得装逼，就得吹牛，他原来是我的下属，后来他去新公司了，原来就觉得他有些装逼，吹牛，但去了新公司后，我们都叫他装逼王；跟他吃饭、聊天，不管聊些他是否真的懂的东西，他都会表现出自己很清楚，掌控大局的样子，但真的往深入聊的时候，他又会转移话题，不想跟你继续说下去，但还是表示自己是内行，只是现在不想说这个事的样子。</p>
<p>这个朋友后来我不再联系，我想物以类聚，也许我们不是一类人……</p>
<p>北上广需要真材实料的人，那些不懂装懂，却总是想掌控全局的人，对于自己的能力提升没有任何益处，只会挖空心思去研究人，如何更好的装逼而不被识破。</p>
<p>也许有人会辩解说，装逼可以提升自己的口才，可以提高自己的个人魅力。<br>我想说，完全不可能，对于不懂装懂的装逼，这完全是一种非常不好的习惯；<br>首先，你不懂得尊重事实；其次，你无法正视自己的无知，不学习，不提高自己的专业水平；这些不懂装懂的表演型伎俩只会让你更加愚昧，丝毫不能提高你的口才，在真正懂行人的眼里，你就是个小丑，对整体工作没有正面促进作用，只会有负面的阻碍。至于装逼带来的暂时的魅力，随着时间推移，你会让人觉得可笑。</p>
<p>只有不断提升自己的知识面，提升自己的眼界，与各种行业的人交流，与不同工种的人互相学习，这样才能让自己在各种场合沟通时，更加顺畅，这样才能真正的去解决实际的问题，这才是正面的。</p>
<p>我上家公司的HR Carrie教会了我如何提升自己的方法–管理好自己的时间，就是对自己的最好的管理方式。而对于团队，能管理好团队的时间，就是合格的团队管理者。时间的管理是个过程，需要在工作中不断的与各种复杂的情况作斗争，它是伴随你一生的一个过程，很多人每天都很忙，但是又不知道自己在忙什么，就是很多工作都做不完，我问他是工作量大吗？但很多人的回答，并不是工作量太大，其实那些工作一天也是能完成的，问题就是工作中无法专注的去做一件事，中途被打扰的次数太多了，以至于一件简单的事一个上午都没有做完，总是断断续续的。<br>这种情况，我也经常遇到，相信大部分人都有这种情况。有关时间管理的方法有很多，其中比较出名的是<code>番茄工作法</code>;<br>大意是把所有的工作分成一个任务，每个任务定时为一段专注时间，可能15分钟、30分钟为一个专注时间，闹钟在15分钟后会提醒你专注时间已到，这时你可以停下来休息5分钟。不管工作是否完成，你都必须停下，直到下一个专注时间定时开始；什么？中途有人打扰找你做其它的事怎么办？幸好我这人比较笨，本身是单线程工作的人，做一件事，就是做一件事，不会同时做两件事，就算有人找我，我也会跟他说：非常抱歉，你先给我说明，我记录下来，等我把手头的事处理完了，我再去处理这个事，因为我是单线程的工作方式，无法同时做这两件事；当然，这是优先级不是特别高的事情，如果是一个非常急的事情，现在不处理就会被老板骂，这种情况那就不适用了，当然以最急的先处理。但是大部分不会有这种情况，优先级不会有这么高，所以，稍微晚点处理也不会死人的情况下，那就不要理会，就只管做自己当前的事就行了。</p>
<blockquote>
<blockquote>
<p>集中注意力、高效工作，每天最多4小时</p>
</blockquote>
</blockquote>
<p>其实，科学研究发现，最有效率的工作方式，就是单线程处理工作；一次只做一件事，这才是最有效率的；可能大家以为，人的大脑和电脑一样，如果同时做几件事应该比一次做一件事效率要高要快，因为多核多线程的电脑CPU运行速度总是比单线程CPU的要快，但是事实证明，并不是这样；这不是我胡说八道想当然的得出的结论，这个是有研究团队做过实验的。</p>
<p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016051303.png" alt="" title="做一件事与同时做多件事的效率比较"></p>
<p>一个人能够集中注意力的时间，是有限的。一般来说，高效工作只能持续四个小时，其余时间就都是低效工作了。</p>
<p>关于时间管理的讨论，阮一峰有篇博得写的很好：<a href="http://www.ruanyifeng.com/blog/2016/05/time-management.html" target="_blank" rel="noopener">时间管理的七句话</a></p>
<p>讲了这么多，最后总结一下：做一个学习者吧，永远以学生的姿态出现比那些浮躁的吹牛逼要靠谱的多，利已利人。</p>
<h3 id="我该做出什么贡献？"><a href="#我该做出什么贡献？" class="headerlink" title="我该做出什么贡献？"></a>我该做出什么贡献？</h3><p>其实原来想的比较多，也比较复杂，做一个自己的产品，改变世界？开一家公司，自主创业，实现财务自由？这些其实说不上是贡献，大多是从自己的角度出发，一切是为了自己能够得到更多。如果从这个角度思考的话，我该做的太多太多了，因为我要的太多：我想要个温柔、善良、漂亮的女人做我的妻子，与我要有共同话题，不做作，不矫情；我想要豪车、豪宅；我想要自己的一家公司；我想要全国各大省份城市都有我一个家；我想要有很多很多知己，朋友。。。。。。我想面朝大海、策马远鞭。。。。。世界上最无法满足的，就是人的欲望。<br>为什么要去想这些遥不可及的事情呢，想都想不清楚，在潘石屹的一本书里<br>说，有位哲学家叫维特根斯坦，他最大的贡献就是哲学终止，他最著名的话是《逻辑哲学论》最后一句话：想不明白的事就不要去想了!!</p>
<p>回到现实中来，当下的贡献其实很简单，将我的团队带好，将产品从无到<br>有，直到走向成熟，将团队的人从幼稚到成熟、从菜鸟到老司机，一路走来，不断成长的公司产品和团队，将是大家无形的财产与精神力量，而这些，见证成长并参与其中的团队成员们，不断成熟的产品与系统，就是我的贡献。。。。。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/管理/">管理</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/管理者的自省/">管理者的自省</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/27/管理者的自省/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/07/27/管理者的自省/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/27/nodejs_异步异常处理/" title="nodejs异步异常处理" itemprop="url">nodejs异步异常处理</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-07-27T13:38:16.000Z" itemprop="datePublished"> 发表于 2016-07-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="nodejs-异步异常处理"><a href="#nodejs-异步异常处理" class="headerlink" title="nodejs 异步异常处理"></a>nodejs 异步异常处理</h1><p> 环境：</p>
<blockquote>
<p>nodejs : 4.4.4<br>express :4.1.13</p>
<p>pm2 :1.1.3</p>
</blockquote>
<p>nodejs到目前为止已经发行的稳定版本是4.4.4，而用nodejs开发的系统的稳健性一直是被人所诟病的，现在我项目中就出现一有些运行错误或者异常，就导致了整个服务器退出的情况。</p>
<p>那nodejs可不可以像java一样，有一个统一的异常处理的handller,把所有的没有业务处理的异常抛出给统一的ExceptionHandler去处理呢？</p>
<p><strong>注意，这里要处理的都是异步的业务异常，同步的异常处理不在这里讨论</strong></p>
<p>同步异常处理：</p>
<pre><code>//处理所有同步异常
app.use(function (err, req, res, next) {
// 带有四个参数的 middleware 专门用来处理异常
res.json(&quot;{&apos;code&apos;:10000,&apos;msg&apos;:&apos;error&apos;}&quot;);
});
</code></pre><h2 id="怎么解决"><a href="#怎么解决" class="headerlink" title="怎么解决"></a>怎么解决</h2><p>目前其实还没有完美的方法去解决这个问题，但总是有替代的或者相似的解决方案：</p>
<ul>
<li>uncaughtException事件监听</li>
<li>使用domain模块捕捉异常</li>
</ul>
<h3 id="uncaughtException事件监听"><a href="#uncaughtException事件监听" class="headerlink" title="uncaughtException事件监听"></a>uncaughtException事件监听</h3><p>uncaughtException 是一个非常古老的事件。当 Node 发现一个未捕获的异常时，会触发这个事件。并且如果这个事件存在回调函数，Node 就不会强制结束进程。</p>
<p>一般情况下，我们会将有可能出错的代码放到try/catch块里。但是到了Node.js，由于try/catch无法捕捉异步回调里的异常，Node.js原生提供uncaughtException事件挂到process对象上，用于捕获所有未处理的异常，以下是一个模似一个异步异常：</p>
<pre><code>process.on(&apos;uncaughtException&apos;, function(err) {
console.error(&apos;Error caught in uncaughtException event:&apos;, err);
});

try {
process.nextTick(function() {
    fs.readFile(&apos;non_existent.js&apos;, function(err, str) {
        if(err) throw err;
        else console.log(str);
    });
});
} catch(e) {
console.error(&apos;Error caught by catch block:&apos;, e);
}
</code></pre><p>执行的结果是代码进到了uncaughtException的回调里而不是catch块。 uncaughtException虽然能够捕获异常，但是此时错误的上下文已经丢失，即使看到错误也不知道哪儿报的错，定位问题非常的不利。而且一旦uncaughtException事件触发，而且我们没有自定义重写process的uncaughtException挂载的话，整个node进程将crash掉。</p>
<p>NodeJS对于未捕获异常的默认处理是： - 触发 uncaughtException 事件 - 如果 uncaughtException 没有被监听，那么 - 打印异常的堆栈信息 - 触发进程的 exit 事件;<br>
        
        
        <p class="article-more-link">
          
            <a href="/2016/07/27/nodejs_异步异常处理/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/nodejs/">nodejs</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/express-异常处理/">express 异常处理</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/27/nodejs_异步异常处理/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/07/27/nodejs_异步异常处理/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/27/无标题/" title="git 撤销commit" itemprop="url">git 撤销commit</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-07-27T13:38:16.000Z" itemprop="datePublished"> 发表于 2016-07-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="无标题"><a href="#无标题" class="headerlink" title="无标题"></a>无标题</h1><p>git 撤销commit</p>
<div><br><br>\<br><br></div>

<div><br><br>博客分类： git<br><br></div>

<div><br><br>gitcommit撤销<br><br></div>

<div><br><br>如果不小心commit了一个不需要commit的文件，可以对其进行撤销。<br><br></div>

<div><br><br><br><br></div>

<div><br><br>
        
        
        <p class="article-more-link">
          
            <a href="/2016/07/27/无标题/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/专业技术-印象笔记/">专业技术(印象笔记)</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/从印象笔记导入/">从印象笔记导入</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/27/无标题/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/07/27/无标题/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/27/构建最新的nodejs_docker服务器/" title="构建最新的nodejs docker服务器" itemprop="url">构建最新的nodejs docker服务器</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-07-27T13:36:42.000Z" itemprop="datePublished"> 发表于 2016-07-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="构建最新的nodejs-docker服务器"><a href="#构建最新的nodejs-docker服务器" class="headerlink" title="构建最新的nodejs docker服务器"></a>构建最新的nodejs docker服务器</h1><p><a href="https://nodejs.org/en/docs/guides/nodejs-docker-webapp/" target="_blank" rel="noopener">参考文档</a></p>
<ul>
<li><p>新建一个目录作为我的dockerImages的目录，然后执行：</p>
<pre><code>mkdir /Users/samhu/Public/dockerImages
</code></pre></li>
<li><p>新建package.json</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">	&#123;</span><br><span class="line">  &quot;name&quot;: &quot;docker_web_app&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;Node.js on Docker&quot;,</span><br><span class="line">  &quot;author&quot;: &quot;First Last &lt;first.last@example.com&gt;&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;server.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">              &quot;start&quot;: &quot;node server.js&quot;</span><br><span class="line">              &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">                    &quot;express&quot;: &quot;^4.13.3&quot;</span><br><span class="line">                  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>新建server.js文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line"></span><br><span class="line">const express = require(&apos;express&apos;);</span><br><span class="line"></span><br><span class="line">// Constants</span><br><span class="line"> const PORT = 8080;</span><br><span class="line">//</span><br><span class="line">// // App</span><br><span class="line"> const app = express();</span><br><span class="line"> app.get(&apos;/&apos;, function (req, res) &#123;</span><br><span class="line">   res.send(&apos;Hello world\n&apos;);</span><br><span class="line">   &#125;);</span><br><span class="line"></span><br><span class="line">   app.listen(PORT);</span><br><span class="line">   console.log(&apos;Running on http://localhost:&apos; + PORT);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">* 新建Dockerfile</span><br><span class="line"></span><br><span class="line">		vi Dockerfile </span><br><span class="line">		</span><br><span class="line">内容为：</span><br></pre></td></tr></table></figure>
<p>  FROM node:argon</p>
<h1 id="Create-app-directory"><a href="#Create-app-directory" class="headerlink" title="Create app directory"></a>Create app directory</h1><p>RUN mkdir -p /usr/src/app<br>WORKDIR /usr/src/app</p>
<h1 id="Install-app-dependencies"><a href="#Install-app-dependencies" class="headerlink" title="Install app dependencies"></a>Install app dependencies</h1><p>COPY package.json /usr/src/app/<br>RUN npm install</p>
<h1 id="Bundle-app-source"><a href="#Bundle-app-source" class="headerlink" title="Bundle app source"></a>Bundle app source</h1><p>COPY . /usr/src/app</p>
<p>VOLUME [“/var/www”, “/usr/src/app”, “/var/nginx”]</p>
<p>EXPOSE 8080</p>
<p>#CMD [ “npm”, “start” ]</p>
<p>RUN PORT=8080 npm start</p>
<p>  ```</p>
<p>CMD内容 npm start 会执行 node server.js这个命令。。。。。</p>
<p>最后在dockerImage目录下，build成image:</p>
<pre><code>docker build -t sam.hu/node-web-app . 
</code></pre><p>启动一个nodejs应用服务器，端口号是40000：</p>
<pre><code>docker run -p 40000:8080 --rm -it -v $(pwd):/usr/src/app sam.hu/node-web-app
</code></pre><p>不加 <code>-it</code> 是为容器启动</p>
<p>查看docker容器使用情况:</p>
<pre><code>docker stats
</code></pre><h1 id="安装Apache-Bench（ab-作压力测试"><a href="#安装Apache-Bench（ab-作压力测试" class="headerlink" title="安装Apache Bench（ab)作压力测试"></a>安装Apache Bench（ab)作压力测试</h1><p>三种方式：</p>
<ul>
<li><p>源码安装</p>
<p><a href="http://httpd.apache.org/" target="_blank" rel="noopener">download</a></p>
<p>下载后解压，终端执行：</p>
<pre><code>./configuare
</code></pre></li>
<li><p>二进制安装</p>
<pre><code>命令行忘记了    
</code></pre></li>
<li><p>命令行安装</p>
<pre><code>yum install httpd
</code></pre></li>
</ul>
<h2 id="使用ab测试并发"><a href="#使用ab测试并发" class="headerlink" title="使用ab测试并发"></a>使用ab测试并发</h2><pre><code>ab -n 5000 -c 600 http://www.jinjiang.com/
</code></pre><p>如果出现错误：</p>
<pre><code>enchmarking www.jinjiang.com (be patient)
socket: Too many open files (24)
</code></pre><p>则是因为服务器对并发文件连接有open files限制    ，登陆服务器执行：</p>
<pre><code>ulimit -a  
</code></pre><p>找到：</p>
<pre><code>open files                      (-n) 1024    
</code></pre><p>调整可以打开的文件数：</p>
<pre><code>ulimit -n 65535
</code></pre><p>同时修改nginx.conf添加</p>
<pre><code>worker_rlimit_nofile 65535;
</code></pre><p>但是在nginx服务器可以打开的文件数量受你操作系统的限制，所以编辑<br><code>/etc/sysctl.conf</code> 添加如下内容：</p>
<pre><code>fs.file-max = 70000
</code></pre><p>保存退出，从新读取系统配置</p>
<p><code>sysctl -p</code></p>
<p>再编辑 <code>/etc/security/limits.conf</code> 添加内容:</p>
<pre><code>soft nofile 10000
hard nofile 30000
</code></pre><p>此修改内容需要reboot系统才能生效，所以务必从新启动下服务器。</p>
<p>再次查看系统输出</p>
<pre><code>ulimit -Hn
ulimit -Sn    
</code></pre><p>输出：</p>
<p>30000 10000</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/docker/">docker</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/nodejs/">nodejs</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/27/构建最新的nodejs_docker服务器/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/07/27/构建最新的nodejs_docker服务器/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/23/docker_1.8到docker1.10之间到底发生了什么/" title="docker\_1.8到docker1.10之间到底发生了什么" itemprop="url">docker\_1.8到docker1.10之间到底发生了什么</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-07-22T16:00:00.000Z" itemprop="datePublished"> 发表于 2016-07-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="docker-1-8到docker1-10之间到底发生了什么"><a href="#docker-1-8到docker1-10之间到底发生了什么" class="headerlink" title="docker_1.8到docker1.10之间到底发生了什么"></a>docker_1.8到docker1.10之间到底发生了什么</h1><p>本人是菜鸟，表示刚学习了docker1.8，在没有完全摸透的情况下，docker作者又发了1.9，后面又发了1.10,并表示它是一个大版本；<br>解决了很多安全问题、优化了networking方式和更多的优化和升级。。。。。</p>
<h2 id="1-9的大更新"><a href="#1-9的大更新" class="headerlink" title="1.9的大更新"></a>1.9的大更新</h2><p><a href="https://blog.docker.com/2015/11/docker-1-9-production-ready-swarm-multi-host-networking/" target="_blank" rel="noopener">1.9更新了什么</a></p>
<ul>
<li>Multi-host Networking</li>
<li>Persistent Storage</li>
<li>Docker Swarm 1.0(简单的讲就是docker的集群)</li>
</ul>
<h2 id="Docker-1-10-New-Compose-File-Improved-Security-Networking-And-Much-More"><a href="#Docker-1-10-New-Compose-File-Improved-Security-Networking-And-Much-More" class="headerlink" title="Docker 1.10: New Compose File, Improved Security, Networking And Much More!"></a>Docker 1.10: New Compose File, Improved Security, Networking And Much More!</h2><ul>
<li>引入了很多安全机制，提升了docker系统安全</li>
<li>越来越好的容器网络访问优化（Networking gets even better）</li>
<li>Swarm 1.1</li>
</ul>
<p>这是原文：</p>
<blockquote>
<blockquote>
<p>We’re pleased to announce Docker 1.10, jam-packed with stuff you’ve been asking for.<br>    It’s now much easier to define and run complex distributed apps with Docker Compose. The power that Compose brought to orchestrating containers is now available for setting up networks and volumes. On your development machine, you can set up your app with multiple network tiers and complex storage configurations, replicating how you might set it up in production. You can then take that same configuration from development, and use it to run your app on CI, on staging, and right through into production. Check out the blog post about the new Compose file to find out more</p>
</blockquote>
</blockquote>
<p><a href="https://blog.docker.com/2016/02/docker-1-10/" target="_blank" rel="noopener">1.10原文在这里</a></p>
<h2 id="docker-1-8在实际使用中的问题"><a href="#docker-1-8在实际使用中的问题" class="headerlink" title="docker 1.8在实际使用中的问题"></a>docker 1.8在实际使用中的问题</h2><p><strong>docker1.8在使用中有好多好多莫名奇妙的问题，就是一个字，烦。。。。。。</strong></p>
<h2 id="mac电脑从docker1-8升级到docker1-12"><a href="#mac电脑从docker1-8升级到docker1-12" class="headerlink" title="mac电脑从docker1.8升级到docker1.12"></a>mac电脑从docker1.8升级到docker1.12</h2>
        
        
        <p class="article-more-link">
          
            <a href="/2016/07/23/docker_1.8到docker1.10之间到底发生了什么/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/docker/">docker</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/docker升级/">docker升级</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/23/docker_1.8到docker1.10之间到底发生了什么/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/07/23/docker_1.8到docker1.10之间到底发生了什么/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/14/pm2_deployment/" title="PM2 deployment" itemprop="url">PM2 deployment</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-07-14T02:02:06.000Z" itemprop="datePublished"> 发表于 2016-07-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="PM2-deployment"><a href="#PM2-deployment" class="headerlink" title="PM2 deployment"></a>PM2 deployment</h1><ol>
<li><p>生成 ecosystem.json</p>
<pre><code>pm2 ecosystem
</code></pre></li>
</ol>
<ol>
<li>查看ecosystem.json</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  /**</span><br><span class="line">   * Application configuration section</span><br><span class="line">   * http://pm2.keymetrics.io/docs/usage/application-declaration/</span><br><span class="line">   */</span><br><span class="line">  apps : [</span><br><span class="line"></span><br><span class="line">    // First application</span><br><span class="line">    &#123;</span><br><span class="line">      name      : &quot;API&quot;,</span><br><span class="line">      script    : &quot;app.js&quot;,</span><br><span class="line">      env: &#123;</span><br><span class="line">        COMMON_VARIABLE: &quot;true&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      env_production : &#123;</span><br><span class="line">        NODE_ENV: &quot;production&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  	],</span><br><span class="line"></span><br><span class="line">  	/**</span><br><span class="line">   	* Deployment section</span><br><span class="line">   	* http://pm2.keymetrics.io/docs/usage/deployment/</span><br><span class="line">   	*/</span><br><span class="line">  	deploy : &#123;</span><br><span class="line">    production : &#123;</span><br><span class="line">      user : &quot;node&quot;,</span><br><span class="line">      host : &quot;212.83.163.1&quot;,</span><br><span class="line">      ref  : &quot;origin/master&quot;,</span><br><span class="line">      repo : &quot;git@github.com:repo.git&quot;,</span><br><span class="line">      path : &quot;/var/www/production&quot;,</span><br><span class="line">      &quot;post-deploy&quot; : &quot;npm install &amp;&amp; pm2 startOrRestart ecosystem.json --env production&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    dev : &#123;</span><br><span class="line">      user : &quot;root&quot;,</span><br><span class="line">      host : &quot;192.168.0.121&quot;,</span><br><span class="line">      ref  : &quot;origin/master&quot;,</span><br><span class="line">      repo : &quot;http://192.168.0.121:10080/lebond_server/lebond_server.git&quot;,</span><br><span class="line">      path : &quot;/var/www/development&quot;,</span><br><span class="line">      &quot;post-deploy&quot; : &quot;npm install &amp;&amp; pm2 startOrRestart ecosystem.json --env dev&quot;,</span><br><span class="line">      env  : &#123;</span><br><span class="line">        NODE_ENV: &quot;dev&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   	&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
            <a href="/2016/07/14/pm2_deployment/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/系统-运维/">系统&运维</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/PM2/">PM2</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/14/pm2_deployment/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/07/14/pm2_deployment/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/01/gitlab常用命令/" title="gitlab常用命令" itemprop="url">gitlab常用命令</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-07-01T05:55:07.000Z" itemprop="datePublished"> 发表于 2016-07-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="gitlab常用命令"><a href="#gitlab常用命令" class="headerlink" title="gitlab常用命令"></a>gitlab常用命令</h1><ol>
<li><p>重启 </p>
<pre><code>sudo gitlab-ctl restart
</code></pre></li>
</ol>
<ol>
<li>导入git仓库</li>
</ol>
<p><a href="http://docs.gitlab.com/ee/raketasks/import.html" target="_blank" rel="noopener">导入git仓库</a></p>
<pre><code>sudo gitlab-rake gitlab:import:repos
</code></pre><p>GitLab头像无法正常显示<br>原因：gravatar被墙<br>解决办法：<br>编辑 /etc/gitlab/gitlab.rb，将gravatar_plain_url改为：</p>
<pre><code>#gitlab_rails[&apos;gravatar_plain_url&apos;] = &apos;http://gravatar.duoshuo.com/avatar/%{hash}?s=%{size}&amp;d=identicon&apos;        
</code></pre><p>然后执行：</p>
<pre><code>sudo gitlab-ctl reconfigure 
sudo gitlab-rake cache:clear RAILS_ENV=production
</code></pre><h2 id="external-url-问题"><a href="#external-url-问题" class="headerlink" title="external_url 问题"></a>external_url 问题</h2><p>由于这个gitlab是9.8.3的CE版本，是放在我公司的测试服务器上的，由于我公司的公网IP是动态的，所以我用了花生壳去绑定了公司的IP，但问题来了，gitlab里面有个配置叫<code>external_url</code>，这个地址是用来外网访问地址，比如<code>new issue</code>这个就是用的<code>external_url</code>配置的地址，问题就出在这里，我的外网是绑定在花生壳的域名上的：<code>http://15dsdsdf.net</code>,路由器的80端口不能直接映射，所以只能这样：</p>
<pre><code>`8001---&gt;80`//外网8001映射内网80端口
</code></pre>
        
        
        <p class="article-more-link">
          
            <a href="/2016/07/01/gitlab常用命令/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/系统-运维/">系统&运维</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/gitlabe-ce/">gitlabe-ce</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/01/gitlab常用命令/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/07/01/gitlab常用命令/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/13/oh_my_zsh安装出现的问题/" title="oh my zsh安装出现的问题" itemprop="url">oh my zsh安装出现的问题</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-06-13T10:06:16.000Z" itemprop="datePublished"> 发表于 2016-06-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="oh-my-zsh安装出现的问题"><a href="#oh-my-zsh安装出现的问题" class="headerlink" title="oh my zsh安装出现的问题"></a>oh my zsh安装出现的问题</h1><h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1,安装"></a>1,安装</h2><pre><code>wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh
</code></pre><p>参考强哥的博客，<a href="http://macshuo.com/?p=676" target="_blank" rel="noopener">安装oh my zsh出现的问题</a></p>
<ol>
<li>安装完成后，终端背景显示没变，使用的是默认主题</li>
<li>需要将终端背景显示设置一下才会变成黑色背景</li>
<li>vi ~/.zshrc 设置了值改了配置后不会立即生效，需要source一下</li>
<li>安装autojump插件home目录下没有.autojump目录，可能是由于autojump升级了，不需要这个目录了</li>
</ol>
<p>我用home brew 安装的，第一次安装没仔细看，后来重新安装了下，发现安装成功后给我了提示，如下：</p>
<pre><code>==&gt; Pouring autojump-22.3.0.el_capitan.bottle.tar.gz
==&gt; Caveats
Add the following line to your ~/.bash_profile or ~/.zshrc file (and remember
to source the file to update your current session):
[[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] &amp;&amp; . $(brew --prefix)/etc/profile.d/autojump.sh

If you use the Fish shell then add the following line to your ~/.config/fish/config.fish:
[ -f /usr/local/share/autojump/autojump.fish ]; and . /usr/local/share/autojump/autojump.fish
</code></pre><ol>
<li>我用的是oh my zsh,是zsh的封装，也就是说适用第一个提示，要把这段代码加到.zshrc配置里</li>
<li>.zshrc的插件配置里需要把autojump支持加上</li>
<li><code>source .zshrc</code> 使配置生效</li>
</ol>
        
        
        <p class="article-more-link">
          
            <a href="/2016/06/13/oh_my_zsh安装出现的问题/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/系统-工具/">系统&工具</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/oh-my-zsh-vim-macos/">oh-my-zsh vim macos</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/13/oh_my_zsh安装出现的问题/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/06/13/oh_my_zsh安装出现的问题/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/13/3d_touch例子一个/" title="根据apple官方3D touch的例子写个3D Touch功能" itemprop="url">根据apple官方3D touch的例子写个3D Touch功能</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-06-13T10:06:16.000Z" itemprop="datePublished"> 发表于 2016-06-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="根据apple官方3D-touch的例子写个3D-Touch功能"><a href="#根据apple官方3D-touch的例子写个3D-Touch功能" class="headerlink" title="根据apple官方3D touch的例子写个3D Touch功能"></a>根据apple官方3D touch的例子写个3D Touch功能</h3><h4 id="一，3D-touch-sample下载"><a href="#一，3D-touch-sample下载" class="headerlink" title="一，3D touch sample下载"></a>一，3D touch sample下载</h4><ol>
<li><p><a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/Adopting3DTouchOniPhone/" target="_blank" rel="noopener">下载地址(文档)</a></p>
</li>
<li><p>下载后打开ApplicationShortcuts，发现是swift实现的，现在我们来按照官方文档的说话，再参照官方给的sample项目进行学习  </p>
        
        
        <p class="article-more-link">
          
            <a href="/2016/06/13/3d_touch例子一个/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ios-Developer/">ios Developer</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/3DTouch-sample/">3DTouch sample</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/13/3d_touch例子一个/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/06/13/3d_touch例子一个/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/13/关于macbook电池的正确使用方法，和保养技巧/" title="关于MacBook电池的正确使用方法" itemprop="url">关于MacBook电池的正确使用方法</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/109318125124422212783?rel=author" title="sam" target="_blank" itemprop="author">sam</a>
		
  <p class="article-time">
    <time datetime="2016-06-13T10:06:16.000Z" itemprop="datePublished"> 发表于 2016-06-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="关于MacBook电池的正确使用方法，和保养技巧"><a href="#关于MacBook电池的正确使用方法，和保养技巧" class="headerlink" title="关于MacBook电池的正确使用方法，和保养技巧"></a>关于MacBook电池的正确使用方法，和保养技巧</h1><hr>
<h2 id="標準充電方式"><a href="#標準充電方式" class="headerlink" title="標準充電方式"></a>標準充電方式</h2><p>當電池電量剩下約 15% 左右就要準備接電源充電了，剩 10% 時會有電量過低警示。 </p>
<p>補充：沒有必要等到電池完全沒電時才充電，因為鋰電池本來就是設計給用戶隨時可補充電力用的。另外就是避免電池電量出現在 100% 或 0% 這兩個極端值，如果電量長期在 100% 不放電，會讓鋰電子沒有地方可以活動，一段時間後，你的鋰電池可能就會流「湯」出來喔！如果電量只有 0%，那將可能會造成電池陷入深度放電狀態，這樣會讓它永遠無法再蓄電。 </p>
<h2 id="電池校正方式"><a href="#電池校正方式" class="headerlink" title="電池校正方式"></a>電池校正方式</h2><p>以下電池校正資訊來源為 Apple，適用於 PowerBook G4 (15 吋、雙層 SD)、MacBook (所有機型)、MacBook Pro (所有機型)、MacBook Pro (17 吋) (所有機型) 以及 MacBook Air。 </p>
<p>　1. 插入電源轉換器並充足 PowerBook 電池的電力，直到電源轉換器上的指示燈或 LED 變成綠色，且選單列中 </p>
<p>　　 的螢幕計量器指出電池已充足電為止。 </p>
<p>　2. 讓電池保持在充足電力的狀態下至少兩小時。在此期間只要插上電源轉換器，仍然可以使用電腦。 </p>
<p>　3. 在電腦的電源仍開啟時拔除電源轉換器，開始使用電池的電力讓電腦運轉。您可在這段時間內使用電腦。 </p>
<p>　　 電池電力降低時，螢幕上會出現電池電力不足的警告對話框。 </p>
<p>　4. 這時請儲存所有工作。請繼續使用電腦。如果電池電力非常低，電腦會自動進入睡眠狀態。 </p>
<p>　5. 關閉電腦，或讓電腦處於睡眠狀態至少五小時。 </p>
<p>　6. 接上電源轉換器，在電池再次充足電力之前都不要將其拔除。 </p>
<p><strong>注意：電池校正約一個月做一次或 30 個充電循環做一次即可，常常校正可能會對電池產生不良影響。 </strong></p>
<p><em>補充：電池具有內部微處理器，在充電及放電時，提供電池中電源的預估值。有時需要重新校準電池，以保持螢幕上顯示的電池時間及百分比能夠精確，並讓電池的效率保持在最佳狀態。第一次使用電腦以及其後每隔幾個月都應該執行這道程序。如果您的 Apple 可攜式電腦通常接上交流電電源，很少使用電池電力，則最好每個月執行一次。www.apple.com/tw/batteries 網站提供更多和電池有關的輔助資訊，也提供 iCal 行事曆，可提醒您要校正電池。</em> </p>
        
        
        <p class="article-more-link">
          
            <a href="/2016/06/13/关于macbook电池的正确使用方法，和保养技巧/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/系统-工具/">系统&工具</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/macbook电池保养/">macbook电池保养</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/13/关于macbook电池的正确使用方法，和保养技巧/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/06/13/关于macbook电池的正确使用方法，和保养技巧/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/6/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/8/">Next<span></span></a>
  </nav>



</div>

      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="huguiqi" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/AFNetWork3-1/" title="AFNetWork3.1">AFNetWork3.1<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Alcatraz/" title="Alcatraz">Alcatraz<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/activiti/" title="activiti">activiti<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/docker/" title="docker">docker<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/git/" title="git">git<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/github-博客/" title="github 博客">github 博客<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo插件/" title="hexo插件">hexo插件<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/ios-Developer/" title="ios Developer">ios Developer<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/java/" title="java">java<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/javascript/" title="javascript">javascript<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/node/" title="node">node<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/nodejs/" title="nodejs">nodejs<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/springboot/" title="springboot">springboot<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/activiti/springboot/" title="springboot">springboot<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/springcloud/" title="springcloud">springcloud<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/xcode/" title="xcode">xcode<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/专业技术-印象笔记/" title="专业技术(印象笔记)">专业技术(印象笔记)<sup>222</sup></a></li>
		  
		
		  
			<li><a href="/categories/前端技术/" title="前端技术">前端技术<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/感悟/" title="感悟">感悟<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/杂谈/" title="杂谈">杂谈<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/科学上网/" title="科学上网">科学上网<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/站内搜索-博客/" title="站内搜索 博客">站内搜索 博客<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/管理/" title="管理">管理<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统/" title="系统">系统<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统-工具/" title="系统&amp;工具">系统&amp;工具<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/系统-运维/" title="系统&amp;运维">系统&amp;运维<sup>17</sup></a></li>
		  
		
		  
			<li><a href="/categories/网络配置/" title="网络配置">网络配置<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/读书笔记/" title="读书笔记">读书笔记<sup>4</sup></a></li>
		  
		
		  
		
		  
			<li><a href="/categories/随笔/" title="随笔">随笔<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/面试题/" title="面试题">面试题<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/从印象笔记导入/" title="从印象笔记导入">从印象笔记导入<sup>222</sup></a></li>
			
		
			
				<li><a href="/tags/随笔/" title="随笔">随笔<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/hexo/" title="hexo">hexo<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/spring-cloud/" title="spring cloud">spring cloud<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/面试题/" title="面试题">面试题<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Rejected/" title="Rejected">Rejected<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/nginx/" title="nginx">nginx<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/ReactNative/" title="ReactNative">ReactNative<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/springboot/" title="springboot">springboot<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/docker-compose/" title="docker-compose">docker-compose<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/docker-国内镜像/" title="docker 国内镜像">docker 国内镜像<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/ios-developer-upload/" title="ios developer upload">ios developer upload<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/javascript-原型编程/" title="javascript&amp;原型编程">javascript&amp;原型编程<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/nodejs/" title="nodejs">nodejs<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/svn与git/" title="svn与git">svn与git<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ios-developer-上传审核/" title="ios developer 上传审核">ios developer 上传审核<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/熔断机制/" title="熔断机制">熔断机制<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/3DTouch-sample/" title="3DTouch sample">3DTouch sample<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/docker升级/" title="docker升级">docker升级<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://godeggs.cn " target="_blank" title="承接手机app、微信、web开发">找人做软件</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.huguiqi.com." target="_blank" title="sam&#39;s Blog">sam&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  

<div class="doubanshow">
<p class="asidetitle">豆瓣秀</p>
<div>
<script type="text/javascript" src="http://www.douban.com/service/badge/64698454/?show=collection&amp;n=12&amp;columns=3&amp;hidelogo=yes&amp;hideself=yes&amp;cat=book|movie" ></script>
</div>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=1601653200&verifier=bd864c6a&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Sam.This is my Blog. <br/>
			Anything that can go wrong will go wrong</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/1601653200" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/huguiqi" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/XiaoheiSpring" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		<a href="https://www.facebook.com/sam.hu.7334" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		<a href="https://www.linkedin.com/in/小黑-胡-ab83b992" target="_blank" class="icon-linkedin" title="linkedin"></a>
		
		
		<a href="https://www.douban.com/people/64698454" target="_blank" class="icon-douban" title="豆瓣"></a>
		
		
		<a href="http://www.zhihu.com/people/hu-xiao-hei-53" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		<a href="https://plus.google.com/109318125124422212783?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:guiqi.hu@163.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="http://blog.huguiqi.com." target="_blank" title="sam">sam</a> © 2018 
		
		<a href="/about" target="_blank" title="sam">sam</a>
		
		
		</p>
</div>

 <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','qtnHgvQyg5N9h4en-9wA','2.0.0');
</script>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f5971877c7b77f98074be3ddabf34fbe";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

    <div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//huguiqicom.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<script id="dsq-count-scr" src="//huguiqicom.disqus.com/count.js" async></script>

    
  </body>
 </html>
